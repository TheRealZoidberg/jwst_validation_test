
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests &#8212; Notebook repository template</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/main.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="JWST calwebb_image3, skymatch unit tests" href="../skymatch/jwst_skymatch_unit_tests.html" />
    <link rel="prev" title="JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests" href="jwst_assign_wcs_unit_tests.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Notebook repository template</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    <no title>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../background/jwst_background_miri_test/jwst_background_subtraction_miri_imaging_testing.html">
   JWST Pipeline Validation Notebook: calwebb_image2, background subtraction for MIRI imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../background/jwst_background_miri_test/exec_jwst_background_subtraction_miri_imaging_testing.html">
   JWST Pipeline Validation Notebook: calwebb_image2, background subtraction for MIRI imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../background/jwst_background_miri_test/exec_background_sub-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: Background_subtract() for MIRI LRS SLIT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../background/jwst_background_miri_test/background_sub-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: Background_subtract() for MIRI LRS SLIT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../pathloss/jwst_pathloss_nirspec_test/exec_jwst_pathloss_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, pathloss step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../pathloss/jwst_pathloss_nirspec_test/jwst_pathloss_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, pathloss step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../msaflagopen/jwst_msa_flagging_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, msa_flagging step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../msaflagopen/exec_jwst_msa_flagging_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, msa_flagging step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resample/jwst_resample_miri_test/jwst_resample_miri_lrs_slit.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Image3, Resample step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resample/jwst_resample_miri_test/exec_jwst_resample_miri_lrs_slit.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Image3, Resample step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resample/jwst_resample_miri_test/jwst_resample_miri_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Image3, Resample step with MIRI imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resample/jwst_resample_miri_test/exec_jwst_resample_miri_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Image3, Resample step with MIRI imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../example_notebook/example_notebook.html">
   Draft: Notebook title
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../source_catalog/jwst_source_catalog_miri_test/exec_jwst_source_catalog_miri_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3: source_catalog with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../source_catalog/jwst_source_catalog_miri_test/jwst_source_catalog_miri_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3: source_catalog with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../source_catalog/jwst_source_catalog_nircam_test/jwst_nircam_imaging_source_catalog.html">
   JWST Pipeline Validation Notebook: NIRCam, calwebb_image3, source_catalog
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../source_catalog/jwst_source_catalog_nircam_test/exec_jwst_nircam_imaging_source_catalog.html">
   JWST Pipeline Validation Notebook: NIRCam, calwebb_image3, source_catalog
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lastframe/exec_jwst_lastframe_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, lastframe unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lastframe/jwst_lastframe_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, lastframe unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/exec_photom_miri_lrs_slitless.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slitless spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/photom_miri_mrs_test.html">
   JWST Pipeline Validation Testing Notebook: Spec2, photom, MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/exec_photom_miri_lrs_slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/exec_photom_miri_mrs_test.html">
   JWST Pipeline Validation Testing Notebook: Spec2, photom, MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/photom_miri_lrs_slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/photom_miri_lrs_slitless.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slitless spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/exec_jwst_photom_miri_test.html">
   JWST Pipeline Validation Notebook: photom with MIRI Imager
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../photom/jwst_photom_miri_test/jwst_photom_miri_test.html">
   JWST Pipeline Validation Notebook: photom with MIRI Imager
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/run_ami_pipeline.html">
   JWST Pipeline Validation Notebook:  AMI3, AMI3 Pipeline
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/exec_ami_analyze_verify.html">
   JWST Pipeline Validation Notebook: AMI3, AmiAnalyze
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/exec_ami_average.html">
   JWST Pipeline Validation Notebook:  calwebb_ami3, ami_average
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/exec_ami_normalize.html">
   JWST Pipeline Validation Notebook: calwebb_ami3, ami_normalize
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/exec_run_ami_pipeline.html">
   JWST Pipeline Validation Notebook:  AMI3, AMI3 Pipeline
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/ami_normalize.html">
   JWST Pipeline Validation Notebook: calwebb_ami3, ami_normalize
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/ami_average.html">
   JWST Pipeline Validation Notebook:  calwebb_ami3, ami_average
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ami3/ami_analyze_verify.html">
   JWST Pipeline Validation Notebook: AMI3, AmiAnalyze
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_nirspec_test/jwst_assign_wcs_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: NIRSpec, spec2, assign_wcs step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_nirspec_test/exec_jwst_assign_wcs_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: NIRSpec, spec2, assign_wcs step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_niriss_test/jwst_assign_wcs_niriss_image.html">
   JWST Pipeline Validation Notebook: NIRISS, image2, assign_wcs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_niriss_test/exec_jwst_assign_wcs_niriss_image.html">
   JWST Pipeline Validation Notebook: NIRISS, image2, assign_wcs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_miri_test/exec_assign_wcs-miri-mrs.html">
   JWST Pipeline Validation Testing Notebook: MIRI MRS Spec2: Assign_wcs()
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_miri_test/exec_assign_wcs-miri-lrs-tso.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Time Series Observation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_miri_test/assign_wcs-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_miri_test/assign_wcs-miri-mrs.html">
   JWST Pipeline Validation Testing Notebook: MIRI MRS Spec2: Assign_wcs()
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_miri_test/assign_wcs-miri-lrs-tso.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Time Series Observation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assign_wcs/jwst_assign_wcs_miri_test/exec_assign_wcs-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../barshadow/jwst_barshadow_nirspec_test/jwst_barshadow_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, barshadow step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../barshadow/jwst_barshadow_nirspec_test/exec_jwst_barshadow_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, barshadow step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../reset/jwst_reset_miri_test/exec_jwst_reset_miri_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_detector1, reset step for MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../reset/jwst_reset_miri_test/jwst_reset_miri_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_detector1, reset step for MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../refpix/jwst_refpix_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, refpix unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../refpix/exec_jwst_refpix_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, refpix unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_nirspec_test/jwst_flat_field_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, flat_field step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_nirspec_test/exec_jwst_flat_field_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, flat_field step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/exec_flatfield_analysis_slitless.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slitless spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/exec_jwst_flat_field_miri_test.html">
   JWST Pipeline Validation Testing notebook: flat_field step with MIRI Imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/exec_flat-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/flatfield_analysis_slitless.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slitless spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/exec_flat_miri_mrs_test.html">
   JWST Pipeline Validation Testing Notebook: Spec2, flat_field, MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/flat-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/jwst_flat_field_miri_test.html">
   JWST Pipeline Validation Testing notebook: flat_field step with MIRI Imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../flat_field/jwst_flat_field_miri_test/flat_miri_mrs_test.html">
   JWST Pipeline Validation Testing Notebook: Spec2, flat_field, MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../skymatch/jwst_skymatch_miri_test/jwst_skymatch_photom_miri_test.html">
   JWST Pipeline Validation Notebook: skymatch and photometry with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../skymatch/jwst_skymatch_miri_test/exec_jwst_skymatch_miri_test.html">
   JWST Pipeline Validation Notebook: skymatch with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../skymatch/jwst_skymatch_miri_test/exec_jwst_skymatch_photom_miri_test.html">
   JWST Pipeline Validation Notebook: skymatch and photometry with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../skymatch/jwst_skymatch_miri_test/jwst_skymatch_miri_test.html">
   JWST Pipeline Validation Notebook: skymatch with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../jump/jwst_jump_miri_test/jwst_jump_miri_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Detector1, Jump step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../jump/jwst_jump_miri_test/exec_jwst_jump_miri_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Detector1, Jump step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../jump/jwst_jump_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, jump unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../jump/exec_jwst_jump_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, jump unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_image3/jwst_image3_nircam_test/jwst_image3_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3, NIRCam imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_image3/jwst_image3_nircam_test/exec_jwst_image3_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3, NIRCam imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_image3/jwst_image3_miri_test/exec_jwst_image3_miri_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3 with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_image3/jwst_image3_miri_test/jwst_image3_miri_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3 with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_detector1/jwst_detector1_nircam_test/jwst_detector1_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, NIRCam imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_detector1/jwst_detector1_nircam_test/exec_jwst_detector1_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, NIRCam imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_detector1/jwst_detector1_miri_test/exec_jwst_detector1_miri_imtso_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Detector1 for MIRI TSO imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_detector1/jwst_detector1_miri_test/jwst_detector1_miri_imtso_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Detector1 for MIRI TSO imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_detector1/jwst_detector1_miri_test/exec_caldetector1-miri-lrs-tso.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Time Series Observation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_detector1/jwst_detector1_miri_test/caldetector1-miri-lrs-tso.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Time Series Observation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../rscd/jwst_rscd_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, rscd unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../rscd/exec_jwst_rscd_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, rscd unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../rscd/jwst_rscd_miri_test/exec_jwst_miri_rscd_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Detector1, RSCD step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../rscd/jwst_rscd_miri_test/jwst_miri_rscd_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Detector1, RSCD step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_image2/jwst_image2_nircam_test/jwst_image2_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_image2, NIRCam imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_image2/jwst_image2_nircam_test/exec_jwst_image2_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_image2, NIRCam imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ramp_fitting/exec_jwst_ramp_fitting_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, ramp_fitting unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ramp_fitting/jwst_ramp_fitting_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, ramp_fitting unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../firstframe/exec_jwst_firstframe_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, firstframe unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../firstframe/jwst_firstframe_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, firstframe unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../dq_init/exec_jwst_dq_init_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, dq_init unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../dq_init/jwst_dq_init_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, dq_init unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../cube_build/jwst_cube_build_miri_test/test_cube_build_spec3.html">
   JWST Pipeline Validation Testing Notebook: Cube Build with MIRISIM Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../cube_build/jwst_cube_build_miri_test/exec_testing_point_source_flux_conservation_modeshep_all.html">
   JWST Pipeline Validation Testing Notebook: Point Source Flux Conservation Modeshep
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../cube_build/jwst_cube_build_miri_test/testing_point_source_flux_conservation_modeshep_all.html">
   JWST Pipeline Validation Testing Notebook: Point Source Flux Conservation Modeshep
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../cube_build/jwst_cube_build_miri_test/exec_test_cube_build_spec3.html">
   JWST Pipeline Validation Testing Notebook: Cube Build with MIRISIM Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../saturation/exec_jwst_saturation_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, saturation unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../saturation/jwst_saturation_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, saturation unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../extract_2d/jwst_extract_2d_nirspec_test/jwst_extract_2d_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, extract_2d step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../extract_2d/jwst_extract_2d_nirspec_test/exec_jwst_extract_2d_nirspec_test.html">
   JWST Pipeline Validation Testing Notebook: spec2, extract_2d step
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../persistence/exec_jwst_persistence_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, persistence unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../persistence/jwst_persistence_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, persistence unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../extract_1d/jwst_extract_1d_miri_test/exec_extract_1d-spec2-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../extract_1d/jwst_extract_1d_miri_test/extract_1d-spec2-miri-lrs-slitless.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slitless
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../extract_1d/jwst_extract_1d_miri_test/extract_1d-spec2-miri-lrs-slit.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../extract_1d/jwst_extract_1d_miri_test/exec_extract_1d-spec2-miri-lrs-slitless.html">
   JWST Pipeline Validation Testing Notebook: MIRI LRS Slitless
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../dark_current/exec_jwst_dark_current_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, dark_current unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../dark_current/jwst_dark_current_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, dark_current unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../templates/jwst_validation_notebook_template.html">
   JWST Pipeline Validation Notebook:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../templates/exec_jwst_validation_notebook_template.html">
   JWST Pipeline Validation Notebook:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../templates/validation_test_template.html">
   JWST Pipeline Validation Testing Notebook: Descriptive Name of Test You Are Performing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../templates/exec_validation_test_template.html">
   JWST Pipeline Validation Testing Notebook: Descriptive Name of Test You Are Performing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ipc/exec_jwst_ipc_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, ipc unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ipc/jwst_ipc_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, ipc unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../background/exec_jwst_background_unit_tests.html">
   JWST calwebb_image2, background unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../background/jwst_background_unit_tests.html">
   JWST calwebb_image2, background unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../jwst_nirspec_regression_tests.html">
   JWST NIRSpec regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../flatfield/exec_jwst_flatfield_unit_tests.html">
   JWST calwebb_image2 and calwebb_spec2, flatfield unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../flatfield/jwst_flatfield_unit_tests.html">
   JWST calwebb_image2 and calwebb_spec2, flatfield unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../jwst_nircam_regression_tests.html">
   JWST NIRCam regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../resample/exec_jwst_resample_unit_tests.html">
   JWST calwebb_image2 and calwebb_spec2, resample unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../resample/jwst_resample_unit_tests.html">
   JWST calwebb_image2 and calwebb_spec2, resample unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../jwst_niriss_regression_tests.html">
   JWST NIRISS regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../source_catalog/jwst_source_catalog_unit_tests.html">
   JWST calwebb_image3, source_catalog unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../source_catalog/exec_jwst_source_catalog_unit_tests.html">
   JWST calwebb_image3, source_catalog unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exec_jwst_fgs_regression_tests.html">
   JWST FGS regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../photom/jwst_photom_unit_tests.html">
   JWST calwebb_image2 and calwebb_spec2, photom unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../photom/exec_jwst_photom_unit_tests.html">
   JWST calwebb_image2 and calwebb_spec2, photom unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="jwst_assign_wcs_unit_tests.html">
   JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../skymatch/jwst_skymatch_unit_tests.html">
   JWST calwebb_image3, skymatch unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../skymatch/exec_jwst_skymatch_unit_tests.html">
   JWST calwebb_image3, skymatch unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exec_jwst_niriss_regression_tests.html">
   JWST NIRISS regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exec_jwst_nirspec_regression_tests.html">
   JWST NIRSpec regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exec_jwst_nircam_regression_tests.html">
   JWST NIRCam regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../jwst_fgs_regression_tests.html">
   JWST FGS regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exec_jwst_miri_regression_tests.html">
   JWST MIRI regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../jwst_miri_regression_tests.html">
   JWST MIRI regression tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tweakreg/exec_jwst_tweakreg_unit_tests.html">
   JWST calwebb_image3, tweakreg unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tweakreg/jwst_tweakreg_unit_tests.html">
   JWST calwebb_image3, tweakreg unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../outlier_detection/jwst_outlier_detection_unit_tests.html">
   JWST calwebb_image3, calwebb_spec3, calwebb_coron3, calwebb_tso3, outlier_detection unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../outlier_detection/exec_jwst_outlier_detection_unit_tests.html">
   JWST calwebb_image3, calwebb_spec3, calwebb_coron3, calwebb_tso3, outlier_detection unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tweakreg/jwst_tweakreg_miri_test/exec_jwst_tweakreg_miri_test.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Image3, Tweakreg step with MIRI imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tweakreg/jwst_tweakreg_miri_test/jwst_tweakreg_miri_test.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Image3, Tweakreg step with MIRI imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../outlier_detection/jwst_outlier_detection_miri_test/exec_jwst_outlier_detection_miri_test.html">
   JWST Pipeline Validation Notebook: outlier_detection with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../outlier_detection/jwst_outlier_detection_miri_test/exec_jwst_outlier_detection_view_miri_test.html">
   JWST Pipeline Validation Notebook: MIRI view outlier_detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../outlier_detection/jwst_outlier_detection_miri_test/exec_out_det_test2.html">
   JWST Pipeline Validation Notebook: Outlier Detection for MIRI MRS
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../outlier_detection/jwst_outlier_detection_miri_test/out_det_test2.html">
   JWST Pipeline Validation Notebook: Outlier Detection for MIRI MRS
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../outlier_detection/jwst_outlier_detection_miri_test/jwst_outlier_detection_miri_test.html">
   JWST Pipeline Validation Notebook: outlier_detection with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../outlier_detection/jwst_outlier_detection_miri_test/jwst_outlier_detection_view_miri_test.html">
   JWST Pipeline Validation Notebook: MIRI view outlier_detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../superbias/exec_jwst_superbias_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, superbias unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../superbias/jwst_superbias_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, superbias unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_coron3/exec_MIRI_shared_calcoron3_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Coron3 for MIRI Coronagraphic Imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_coron3/jwst_calcoron3_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_coron3 with NIRCam
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_coron3/exec_jwst_calcoron3_nircam_test.html">
   JWST Pipeline Validation Notebook: calwebb_coron3 with NIRCam
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../calwebb_coron3/MIRI_shared_calcoron3_testing.html">
   JWST Pipeline Validation Testing Notebook: Calwebb_Coron3 for MIRI Coronagraphic Imaging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../fringe/JWST_fringe_miri_test/exec_fringe_miri_mrs_test.html">
   JWST Pipeline Validation Testing Notebook: Spec2, fringe, MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../fringe/JWST_fringe_miri_test/fringe_miri_mrs_test.html">
   JWST Pipeline Validation Testing Notebook: Spec2, fringe, MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../image3/jwst_image3_miri_test/exec_jwst_image3_miri_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3 with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../image3/jwst_image3_miri_test/jwst_image3_miri_test.html">
   JWST Pipeline Validation Notebook: calwebb_image3 with MIRI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../linearity/jwst_linearity_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, linearity unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../linearity/exec_jwst_linearity_unit_tests.html">
   JWST Pipeline Validation Notebook: calwebb_detector1, linearity unit tests
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/TheRealZoidberg/jwst_validation_test/main?urlpath=tree/notebooks/regression_test/assign_wcs/exec_jwst_assign_wcs_unit_tests.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/TheRealZoidberg/jwst_validation_test/blob/main/notebooks/regression_test/assign_wcs/exec_jwst_assign_wcs_unit_tests.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/TheRealZoidberg/jwst_validation_test"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/TheRealZoidberg/jwst_validation_test/issues/new?title=Issue%20on%20page%20%2Fnotebooks/regression_test/assign_wcs/exec_jwst_assign_wcs_unit_tests.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/notebooks/regression_test/assign_wcs/exec_jwst_assign_wcs_unit_tests.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table-of-contents">
     Table of Contents
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#jwst-unit-tests">
   JWST Unit Tests
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-terms">
   Defining Terms
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#test-description">
   Test Description
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-description">
   Data Description
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imports">
   Imports
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#convenience-functions">
   Convenience Functions
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#perform-tests">
   Perform Tests
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#about-this-notebook">
     About This Notebook
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table-of-contents">
     Table of Contents
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#jwst-unit-tests">
   JWST Unit Tests
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-terms">
   Defining Terms
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#test-description">
   Test Description
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-description">
   Data Description
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imports">
   Imports
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#convenience-functions">
   Convenience Functions
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#perform-tests">
   Perform Tests
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#about-this-notebook">
     About This Notebook
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <p><a id="title_ID"></a></p>
<section class="tex2jax_ignore mathjax_ignore" id="jwst-calwebb-image2-and-calwebb-spec2-assign-wcs-unit-tests">
<h1>JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests<a class="headerlink" href="#jwst-calwebb-image2-and-calwebb-spec2-assign-wcs-unit-tests" title="Permalink to this headline">#</a></h1>
<p><span style="color:red"> <strong>Instruments Affected</strong></span>: NIRCam, NIRISS, NIRSpec, MIRI, FGS</p>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">#</a></h2>
<div style="text-align: left"> 
<p><br> <a class="reference external" href="#intro">Introduction</a>
<br> <a class="reference external" href="#unit">JWST Unit Tests</a>
<br> <a class="reference external" href="#terms">Defining Terms</a>
<br> <a class="reference external" href="#description">Test Description</a>
<br> <a class="reference external" href="#data_descr">Data Description</a>
<br> <a class="reference external" href="#imports">Imports</a>
<br> <a class="reference external" href="#functions">Convenience Functions</a>
<br> <a class="reference external" href="#testing">Perform Tests</a>
<br> <a class="reference external" href="#about">About This Notebook</a>
<br></p>
</div><p><a id="intro"></a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h1>
<p>This is the validation notebook that displays the unit tests for the Assign WCS step in calwebb_image2 and calwebb_spec2. This notebook runs and displays the unit tests that are performed as a part of the normal software continuous integration process. For more information on the pipeline visit the links below.</p>
<ul class="simple">
<li><p>Pipeline description: <a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/assign_wcs/index.html">https://jwst-pipeline.readthedocs.io/en/latest/jwst/assign_wcs/index.html</a></p></li>
<li><p>Pipeline code: <a class="reference external" href="https://github.com/spacetelescope/jwst/tree/master/jwst/">https://github.com/spacetelescope/jwst/tree/master/jwst/</a></p></li>
</ul>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<p><a id="unit"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="jwst-unit-tests">
<h1>JWST Unit Tests<a class="headerlink" href="#jwst-unit-tests" title="Permalink to this headline">#</a></h1>
<p>JWST unit tests are located in the tests folder for each pipeline step within the <a class="reference external" href="https://github.com/spacetelescope/jwst/tree/master/jwst/">GitHub repository</a>, e.g., <code class="docutils literal notranslate"><span class="pre">jwst/assign_wcs/tests</span></code>.</p>
<ul class="simple">
<li><p>Unit test README: <a class="reference external" href="https://github.com/spacetelescope/jwst#unit-tests">https://github.com/spacetelescope/jwst#unit-tests</a></p></li>
</ul>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<p><a id="terms"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="defining-terms">
<h1>Defining Terms<a class="headerlink" href="#defining-terms" title="Permalink to this headline">#</a></h1>
<p>These are terms or acronymns used in this notebook that may not be known a general audience.</p>
<ul class="simple">
<li><p>JWST: James Webb Space Telescope</p></li>
<li><p>NIRCam: Near-Infrared Camera</p></li>
</ul>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<p><a id="description"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="test-description">
<h1>Test Description<a class="headerlink" href="#test-description" title="Permalink to this headline">#</a></h1>
<p>Unit testing is a software testing method by which individual units of source code are tested to determine whether they are working sufficiently well. Unit tests do not require a separate data file; the test creates the necessary test data and parameters as a part of the test code.</p>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<p><a id="data_descr"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-description">
<h1>Data Description<a class="headerlink" href="#data-description" title="Permalink to this headline">#</a></h1>
<p>Data used for unit tests is created on the fly within the test itself, and is typically an array in the expected format of JWST data with added metadata needed to run through the pipeline.</p>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<p><a id="imports"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="imports">
<h1>Imports<a class="headerlink" href="#imports" title="Permalink to this headline">#</a></h1>
<ul class="simple">
<li><p>tempfile for creating temporary output products</p></li>
<li><p>pytest for unit test functions</p></li>
<li><p>jwst for the JWST Pipeline</p></li>
<li><p>IPython.display for display pytest reports</p></li>
</ul>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="k">if</span> <span class="s1">&#39;CRDS_CACHE_TYPE&#39;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_CACHE_TYPE&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;local&#39;</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="s1">&#39;crds&#39;</span><span class="p">,</span> <span class="s1">&#39;cache&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_CACHE_TYPE&#39;</span><span class="p">]):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_CACHE_TYPE&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;CRDS cache location: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">7</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_CACHE_TYPE&#39;</span><span class="p">]):</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>         <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_CACHE_TYPE&#39;</span><span class="p">]</span>
<span class="ne">----&gt; </span><span class="mi">7</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;CRDS cache location: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">]))</span>

<span class="nn">File /usr/share/miniconda/lib/python3.9/os.py:679,</span> in <span class="ni">_Environ.__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">    </span><span class="mi">676</span>     <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">encodekey</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span>
<span class="g g-Whitespace">    </span><span class="mi">677</span> <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">678</span>     <span class="c1"># raise KeyError with the original key value</span>
<span class="ne">--&gt; </span><span class="mi">679</span>     <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="bp">None</span>
<span class="g g-Whitespace">    </span><span class="mi">680</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">decodevalue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="ne">KeyError</span>: &#39;CRDS_PATH&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">jwst</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">IFrame</span>
<span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="kn">import</span> <span class="n">HTML</span>
</pre></div>
</div>
</div>
</div>
<p><a id="functions"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="convenience-functions">
<h1>Convenience Functions<a class="headerlink" href="#convenience-functions" title="Permalink to this headline">#</a></h1>
<p>Here we define any convenience functions to help with running the unit tests.</p>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<p><a id="testing"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="perform-tests">
<h1>Perform Tests<a class="headerlink" href="#perform-tests" title="Permalink to this headline">#</a></h1>
<p>Below we run the unit tests for the Assign WCS step.</p>
<p><a class="reference external" href="#title_ID">Top of Page</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Testing JWST Pipeline </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">jwst</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>

<span class="n">jwst_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">jwst</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span>
<span class="n">wcs</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">jwst_dir</span><span class="p">,</span> <span class="s1">&#39;assign_wcs&#39;</span><span class="p">)</span>
<span class="n">associations</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">jwst_dir</span><span class="p">,</span> <span class="s1">&#39;associations&#39;</span><span class="p">)</span>
<span class="n">datamodels</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">jwst_dir</span><span class="p">,</span> <span class="s1">&#39;datamodels&#39;</span><span class="p">)</span>
<span class="n">stpipe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">jwst_dir</span><span class="p">,</span> <span class="s1">&#39;stpipe&#39;</span><span class="p">)</span>
<span class="n">regtest</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">jwst_dir</span><span class="p">,</span> <span class="s1">&#39;regtest&#39;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
    <span class="n">outdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">,</span> <span class="s1">&#39;regtest_report.html&#39;</span><span class="p">)</span>
    <span class="o">!</span>pytest --bigdata <span class="o">{</span>wcs<span class="o">}</span> -v --ignore<span class="o">={</span>associations<span class="o">}</span> --ignore<span class="o">={</span>datamodels<span class="o">}</span> --ignore<span class="o">={</span>stpipe<span class="o">}</span> --ignore<span class="o">={</span>regtest<span class="o">}</span> --html<span class="o">={</span>outdir<span class="o">}</span> --self-contained-html
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">,</span> <span class="s2">&quot;regtest_report.html&quot;</span><span class="p">))</span> <span class="k">as</span> <span class="n">report_file</span><span class="p">:</span>
        <span class="n">html_report</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">report_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Testing JWST Pipeline 1.5.3
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">============================= test session starts ==============================</span>
platform linux -- Python 3.10.5, pytest-7.1.2, pluggy-1.0.0 -- /internal/data1/jenkins/workspace/Notebooks/jwst_validation_notebooks_spacetelescope/miniconda3/envs/jwst_validation_notebooks/bin/python
cachedir: .pytest_cache
metadata: {&#39;Python&#39;: &#39;3.10.5&#39;, &#39;Platform&#39;: &#39;Linux-3.10.0-1160.66.1.el7.x86_64-x86_64-with-glibc2.17&#39;, &#39;Packages&#39;: {&#39;pytest&#39;: &#39;7.1.2&#39;, &#39;py&#39;: &#39;1.11.0&#39;, &#39;pluggy&#39;: &#39;1.0.0&#39;}, &#39;Plugins&#39;: {&#39;metadata&#39;: &#39;2.0.1&#39;, &#39;asdf&#39;: &#39;2.12.0&#39;, &#39;html&#39;: &#39;3.1.1&#39;, &#39;ci-watson&#39;: &#39;0.6.1&#39;, &#39;jwst&#39;: &#39;1.5.3&#39;}, &#39;BUILD_NUMBER&#39;: &#39;113&#39;, &#39;BUILD_ID&#39;: &#39;113&#39;, &#39;BUILD_URL&#39;: &#39;https://plwishmaster.stsci.edu:8081/job/Notebooks/job/jwst_validation_notebooks_spacetelescope/113/&#39;, &#39;NODE_NAME&#39;: &#39;pljwvalnb.stsci.edu&#39;, &#39;JOB_NAME&#39;: &#39;Notebooks/jwst_validation_notebooks_spacetelescope&#39;, &#39;BUILD_TAG&#39;: &#39;jenkins-Notebooks-jwst_validation_notebooks_spacetelescope-113&#39;, &#39;EXECUTOR_NUMBER&#39;: &#39;21&#39;, &#39;JENKINS_URL&#39;: &#39;https://plwishmaster.stsci.edu:8081/&#39;, &#39;WORKSPACE&#39;: &#39;/internal/data1/jenkins/workspace/Notebooks/jwst_validation_notebooks_spacetelescope&#39;, &#39;GIT_COMMIT&#39;: &#39;70ffb42f71ade1656f96080e6fe2147d145aff21&#39;, &#39;GIT_URL&#39;: &#39;https://github.com/spacetelescope/jwst_validation_notebooks&#39;, &#39;GIT_BRANCH&#39;: &#39;origin/master&#39;}
rootdir: /internal/data1/jenkins/workspace/Notebooks/jwst_validation_notebooks_spacetelescope
plugins: metadata-2.0.1, asdf-2.12.0, html-3.1.1, ci-watson-0.6.1, jwst-1.5.3
<span class=" -Color -Color-Bold">collecting ... </span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
<span class=" -Color -Color-Bold">collecting 90 items                                                            </span>
<span class=" -Color -Color-Bold">collected 96 items                                                             </span>

../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_12A 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  1%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_12B 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  2%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_12C 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  3%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_34A 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  4%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_34B 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  5%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_34C 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  6%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_nircam_wfss_available_frames 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  7%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_nircam_tso_available_frames 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  8%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F277W-xref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [  9%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F277W-yref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 10%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F444W-xref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 11%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F444W-yref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 12%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F322W2-xref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 13%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F322W2-yref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 14%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F356W-xref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 15%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F356W-yref_sci] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 16%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_traverse_wfss_grisms 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Yellow">XFAIL</span><span class=" -Color -Color-Green"> [ 17%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_traverse_tso_grism 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Yellow">XFAIL</span><span class=" -Color -Color-Green"> [ 18%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_imaging_frames 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 19%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_imaging_distortion 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Yellow">XFAIL</span><span class=" -Color -Color-Green"> [ 20%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_niriss_wfss_available_frames 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 21%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_traverse_wfss_grisms 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 22%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_filter_rotation 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 23%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_imaging_frames 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 25%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_imaging_distortion 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Yellow">XFAIL</span><span class=" -Color -Color-Green"> [ 26%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_nirspec_imaging 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 27%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_nirspec_ifu_against_esa 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 28%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_nirspec_fs_esa 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 29%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_correct_tilt 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 30%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_normal 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 31%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_no_background <span class=" -Color -Color-Green">PASSED [ 32%]</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_all_background <span class=" -Color -Color-Green">PASSED [ 33%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_row_skipped <span class=" -Color -Color-Green">PASSED [ 34%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_multiple_returns <span class=" -Color -Color-Green">PASSED [ 35%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters0-24-x] <span class=" -Color -Color-Green">PASSED [ 36%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters1-23-x1] <span class=" -Color -Color-Green">PASSED [ 37%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters2-25-110x01] <span class=" -Color -Color-Green">PASSED [ 38%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters3-28-110101x] <span class=" -Color -Color-Green">PASSED [ 39%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_slit_projection_on_detector 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 40%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_missing_msa_file 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 41%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_open_slits 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED [ 42%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_size_on_sky 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">FAILED [ 43%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_fs_msa[fs] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">FAILED [ 44%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_fs_msa[msa] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">FAILED [ 45%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_ifu_grating 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">FAILED [ 46%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_ifu_prism 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">FAILED [ 47%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_ifu_bbox 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 48%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_in_slice[1] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">FAILED [ 50%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_in_slice[17] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">FAILED [ 51%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_noop_missing_meta_values <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 52%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_valid_match <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 53%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_valid_match_no_shifts <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 54%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_inverse <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 55%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_schema 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 56%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_strict_validation 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 57%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_schema_bad_valueerror <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 58%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_schema_bad_assertionerror 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 59%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[CameraModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 60%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[CollimatorModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 61%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[DisperserModel] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 62%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[DistortionMRSModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 63%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[DistortionModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 64%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[FOREModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 65%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[FPAModel] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 66%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[FilteroffsetModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 67%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[IFUFOREModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 68%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[IFUPostModel] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 69%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[IFUSlicerModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 70%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[MSAModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 71%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[NIRCAMGrismModel] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 72%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[NIRISSGrismModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 73%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[OTEModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 75%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[ReferenceFileModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 76%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[RegionsModel] 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 77%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[SpecwcsModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 78%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[WaveCorrModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 79%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[WavelengthrangeModel] <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 80%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_transform_bbox_from_shape_2d 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 81%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_transform_bbox_from_shape_3d <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 82%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_wcs_bbox_from_shape_2d <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 83%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_wcs_bbox_from_shape_3d 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 84%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_create_grism_objects 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 85%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_subarray_transform <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 86%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_bounding_box_from_subarray 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 87%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_roll_angle <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 88%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_v23_to_sky <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 89%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_frame_from_model_3d <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 90%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_frame_from_model_2d 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 91%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_create_fitswcs 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 92%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_sip_approx 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 93%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRCAMForwardRowGrismDispersion 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 94%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRCAMForwardColumnGrismDispersion 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 95%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRCAMBackwardDispersion <span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 96%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRISSBackwardDispersion 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 97%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRISSForwardRowGrismDispersion 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [ 98%]</span>
../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRISSForwardColumnGrismDispersion 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">PASSED</span><span class=" -Color -Color-Red"> [100%]</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=================================== FAILURES ===================================
<span class=" -Color -Color-Bold -Color-Bold-Red">___________________________ test_shutter_size_on_sky ___________________________</span>

    def test_shutter_size_on_sky():
        <span class=" -Color -Color-Yellow">&quot;&quot;&quot;</span>
    <span class=" -Color -Color-Yellow">    Test the size of a MOS shutter on sky is ~ .2 x .4 arcsec.</span>
    <span class=" -Color -Color-Yellow">    &quot;&quot;&quot;</span>
        image = create_nirspec_mos_file()
        model = datamodels.ImageModel(image)
        msaconfl = get_file_path(<span class=" -Color -Color-Yellow">&#39;msa_configuration.fits&#39;</span>)
    
        model.meta.instrument.msa_metadata_file = msaconfl
        model.meta.instrument.msa_metadata_id = 12
    
        refs = create_reference_files(model)
    
        pipe = nirspec.create_pipeline(model, refs, slit_y_range=(-.5, .5))
        w = wcs.WCS(pipe)
        model.meta.wcs = w
        slit = w.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;msa_frame&#39;</span>).slits[0]
        wslit = nirspec.nrs_wcs_set_input(model, slit.name)
        virtual_corners_x = [-.5, -.5, .5, .5, -.5]
        virtual_corners_y = [-.5, .5, .5, -.5, -.5]
        input_lam = [2e-6] * 5
    
        slit2world = wslit.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;world&#39;</span>)
        ra, dec, lam = slit2world(virtual_corners_x,
                                  virtual_corners_y,
                                  input_lam)
        sky = coords.SkyCoord(ra * u.deg, dec * u.deg)
        sep_x = sky[0].separation(sky[3]).to(u.arcsec)
        sep_y = sky[0].separation(sky[1]).to(u.arcsec)
    
        assert sep_x.value &gt; 0.193
&gt;       assert sep_x.v
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>alue &lt; 0.194
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert 0.1943238349352521 &lt; 0.194</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        +  where 0.1943238349352521 = &lt;Angle 0.19432383 arcsec&gt;.value</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py</span>:450: AssertionError
----------------------------- Captured stderr call -----------------------------
2022-07-07 07:45:05,739 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:05,849 - stpipe - INFO - MSA metadata file not in reference files dict
2022-07-07 07:45:05,849 - stpipe - INFO - Getting MSA metadata file from MSAMETFL keyword
2022-07-07 07:45:05,862 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_ytilt not applied
2022-07-07 07:45:06,112 - stpipe - INFO - Slits projected on detector NRS1: [55]
2022-07-07 07:45:06,113 - stpipe - INFO - Computing WCS for 1 open slitlets
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_ytilt not applied
2022-07-07 07:45:06,167 - stpipe - INFO - SPORDER= -1, wrange=[1.66e-06, 3.17e-06]
2022-07-07 07:45:06,347 - stpipe - INFO - There are 0 open slits in quadrant 1
2022-07-07 07:45:06,348 - stpipe - INFO - There are 0 open slits in quadrant 2
2022-07-07 07:45:06,348 - stpipe - INFO - There are 0 open slits in quadrant 3
2022-07-07 07:45:06,348 - stpipe - INFO - There are 1 open slits in quadrant 4
2022-07-07 07:45:06,356 - stpipe - INFO - There are 0 open slits in quadrant 5
2022-07-07 07:45:06,510 - stpipe - INFO - Created a NIRSPEC nrs_msaspec pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;N/A&#39;, &#39;ifufore&#39;: &#39;N/A&#39;, &#39;ifuslicer&#39;: &#39;N/A&#39;}
------------------------------ Captured log call -------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:473 MSA metadata file not in reference files dict
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:473 MSA metadata file not in reference files dict
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:474 Getting MSA metadata file from MSAMETFL keyword
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:474 Getting MSA metadata file from MSAMETFL keyword
<span class=" -Color -Color-Magenta">DEBUG   </span> stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#39;Y&#39;, &#39;OPEN&#39;, nan, nan, 1, &#39;N&#39;), (55, 12, 4, 251, 23, 1, &#39;Y&#39;, &#39;OPEN&#39;, 0.18283921, 0.31907734, 1, &#39;N&#39;), (55, 12, 4, 251, 24, 1, &#39;Y&#39;, &#39;OPEN&#39;, nan, nan, 1, &#39;N&#39;), (55, 12, 4, 251, 25, 1, &#39;Y&#39;, &#39;OPEN&#39;, nan, nan, 1, &#39;N&#39;), (55, 12, 4, 251, 26, 1, &#39;N&#39;, &#39;OPEN&#39;, 0.18283921, 0.31907734, 1, &#39;Y&#39;)]
<span class=" -Color -Color-Magenta">DEBUG   </span> stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#39;Y&#39;, &#39;OPEN&#39;, nan, nan, 1, &#39;N&#39;), (55, 12, 4, 251, 23, 1, &#39;Y&#39;, &#39;OPEN&#39;, 0.18283921, 0.31907734, 1, &#39;N&#39;), (55, 12, 4, 251, 24, 1, &#39;Y&#39;, &#39;OPEN&#39;, nan, nan, 1, &#39;N&#39;), (55, 12, 4, 251, 25, 1, &#39;Y&#39;, &#39;OPEN&#39;, nan, nan, 1, &#39;N&#39;), (55, 12, 4, 251, 26, 1, &#39;N&#39;, &#39;OPEN&#39;, 0.18283921, 0.31907734, 1, &#39;Y&#39;)]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:424 Slits projected on detector NRS1: [55]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:424 Slits projected on detector NRS1: [55]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:308 Computing WCS for 1 open slitlets
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:308 Computing WCS for 1 open slitlets
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:330 SPORDER= -1, wrange=[1.66e-06, 3.17e-06]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:330 SPORDER= -1, wrange=[1.66e-06, 3.17e-06]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 1 open slits in quadrant 4
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 1 open slits in quadrant 4
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_msaspec pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;N/A&#39;, &#39;ifufore&#39;: &#39;N/A&#39;, &#39;ifuslicer&#39;: &#39;N/A&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_msaspec pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;N/A&#39;, &#39;ifufore&#39;: &#39;N/A&#39;, &#39;ifuslicer&#39;: &#39;N/A&#39;}
<span class=" -Color -Color-Bold -Color-Bold-Red">__________________________ test_functional_fs_msa[fs] __________________________</span>

mode = &#39;fs&#39;

    <span class=" -Color -Color-White">@pytest</span>.mark.parametrize((<span class=" -Color -Color-Yellow">&#39;mode&#39;</span>), [<span class=" -Color -Color-Yellow">&#39;fs&#39;</span>, <span class=" -Color -Color-Yellow">&#39;msa&#39;</span>])
    def test_functional_fs_msa(mode):
        #     &quot;&quot;&quot;
        #     Compare Nirspec instrument model with IDT model for FS and MSA.
        #     &quot;&quot;&quot;
        if mode == <span class=" -Color -Color-Yellow">&#39;fs&#39;</span>:
            model_file = <span class=" -Color -Color-Yellow">&#39;fixed_slits_functional_ESA_v4_20180618.txt&#39;</span>
            hdul = create_nirspec_fs_file(grating=<span class=" -Color -Color-Yellow">&#39;G395H&#39;</span>, filter=<span class=" -Color -Color-Yellow">&#39;F290LP&#39;</span>)
            im = datamodels.ImageModel(hdul)
            refs = create_reference_files(im)
            pipeline = nirspec.create_pipeline(im, refs, slit_y_range=[-0.55, 0.55])
            w = wcs.WCS(pipeline)
            im.meta.wcs = w
            # Use slit S200A1
            slit_wcs = nirspec.nrs_wcs_set_input(im, <span class=" -Color -Color-Yellow">&#39;S200A1&#39;</span>)
    
        if mode == <span class=" -Color -Color-Yellow">&#39;msa&#39;</span>:
            model_file = <span class=" -Color -Color-Yellow">&#39;msa_functional_ESA_v2_20180620.txt&#39;</span>
            hdul = create_nirspec_mos_file(grating=<span class=" -Color -Color-Yellow">&#39;G395H&#39;</span>, filt=<span class=" -Color -Color-Yellow">&#39;F290LP&#39;</span>)
            im = datamodels.ImageModel(hdul)
            refs = create_reference_files(im)
            slit = trmodels.Slit(name=1, shutter_id=4699, xcen=319, ycen=13,
                                 ymin=-0.55000000000000004, ymax=0.55000000000000004,
                                 quadrant=3, source_id=1, shutter_state=<span class=" -Color -Color-Yellow">&#39;x&#39;</span>,
                                 source_name=<span class=" -Color -Color-Yellow">&#39;lamp&#39;</span>, source_alias=<span class=" -Color -Color-Yellow">&#39;foo&#39;</span>,
                                 stellarity=100.0, source_xpos=-0.5, source_ypos=0.5)
            open_slits = [slit]
            pipeline = nirspec.slitlets_wcs(im, refs, open_slits)
            w = wcs.WCS(pipeline)
            im.meta.wcs = w
            slit_wcs = nirspec.nrs_wcs_set_input(im, 1)
    
        ins_file = get_file_path(model_file)
        ins_tab = table.Table.read(ins_file, format=<span class=" -Color -Color-Yellow">&#39;ascii&#39;</span>)
    
        # Setup the test
        slitx = [0] * 5
        slity = [-.5, -.25, 0, .25, .5]
        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6
    
        # Slit to MSA absolute
        slit2msa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;msa_frame&#39;</span>)
        msax, msay, _ = slit2msa(slitx, slity, lam)
    
        assert_allclose(slitx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xslitpos&#39;</span>])
        assert_allclose(slity, ins_tab[<span class=" -Color -Color-Yellow">&#39;yslitpos&#39;</span>])
        assert_allclose(msax, ins_tab[<span class=" -Color -Color-Yellow">&#39;xmsapos&#39;</span>])
        assert_allclose(msay, ins_tab[<span class=" -Color -Color-Yellow">&#39;ymaspos&#39;</span>])
    
        # Coordinates at Collimator exit
        # Applies the Collimator forward transform to MSa absolute coordinates
        with datamodels.open(refs[<span class=" -Color -Color-Yellow">&#39;collimator&#39;</span>]) as col:
            colx, coly = col.model.inverse(msax, msay)
        assert_allclose(colx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcoll&#39;</span>])
        assert_allclose(coly, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycoll&#39;</span>])
    
        # After applying directional cosines
        dircos = trmodels.Unitless2DirCos()
        xcolDircosi, ycolDircosi, z = dircos(colx, coly)
        assert_allclose(xcolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcolDirCosi&#39;</span>])
        assert_allclose(ycolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycolDirCosi&#39;</span>])
    
        # MSA to GWA entrance
        # This runs the Collimator forward, Unitless to Directional cosine, and
        # 3D Rotation. It uses the corrected GWA tilt value
        with datamodels.DisperserModel(refs[<span class=" -Color -Color-Yellow">&#39;disperser&#39;</span>]) as disp:
            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,
                                             im.meta.instrument.gwa_ytilt)
        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)
        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(msax, msay)
        assert_allclose(x_gwa_in, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispIn&#39;</span>])
        assert_allclose(y_gwa_in, ins_tab[<span class=" -Color -Color-Yellow">&#39;ydispIn&#39;</span>])
    
        # Slit to GWA out
        slit2gwa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;gwa&#39;</span>)
        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)
        assert_allclose(x_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispLaw&#39;</span>])
        assert_allclose(y_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;ydispLaw&#39;</span>])
    
        # CAMERA entrance (assuming direction is from sky to detector)
        angles = [disperser[<span class=" -Color -Color-Yellow">&#39;theta_x&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;theta_y&#39;</span>],
                  disperser[<span class=" -Color -Color-Yellow">&#39;theta_z&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;tilt_y&#39;</span>]]
        rotation = trmodels.Rotation3DToGWA(angles, axes_order=<span class=" -Color -Color-Yellow">&quot;xyzy&quot;</span>,
                                            name=<span class=" -Color -Color-Yellow">&#39;rotation&#39;</span>)
        dircos2unitless = trmodels.DirCos2Unitless()
        gwa2cam = rotation.inverse | dircos2unitless
        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out,
                                                       z_gwa_out)
        assert_allclose(x_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcamCosi&#39;</span>])
        assert_allclose(y_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycamCosi&#39;</span>])
    
        # at FPA
        with datamodels.CameraModel(refs[<span class=" -Color -Color-Yellow">&#39;camera&#39;</span>]) as camera:
            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)
        assert_allclose(x_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;xfpapos&#39;</span>])
        assert_allclose(y_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;yfpapos&#39;</span>])
    
        # at SCA These are 0-based , the IDT results are 1-based
        slit2sca = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;sca&#39;</span>)
        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)
        # At NRS2
        with datamodels.FPAModel(refs[<span class=" -Color -Color-Yellow">&#39;fpa&#39;</span>]) as fpa:
            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)
        # expect 1 pix difference
        wvlns_on_nrs1 = slice(2)
        wvlns_on_nrs2 = slice(2, 4)
        assert_allclose(x_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;i&#39;</span>][wvlns_on_nrs1])
        assert_allclose(y_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;j&#39;</span>][wvlns_on_nrs1])
        assert_allclose(x_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;i&#39;</span>][wvlns_on_nrs2])
        assert_allclose(y_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;j&#39;</span>][wvlns_on_nrs2])
    
        # at oteip
        slit2oteip = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;oteip&#39;</span>)
        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)
        assert_allclose(x_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;xOTEIP&#39;</span>])
        assert_allclose(y_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;yOTEIP&#39;</span>])
    
        # at v2, v3 [in arcsec]
        slit2v23 = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;v2v3&#39;</span>)
        v2, v3, _ = slit2v23(slitx, slity, lam)
        v2 /= 3600
        v3 /= 3600
&gt;       assert_allclose(v2, ins_tab[<span class=" -Color -Color-Yellow">&#39;xV2V3&#39;</span>])
<span class=" -Color -Color-Bold -Color-Bold-Red">E       AssertionError: </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Not equal to tolerance rtol=1e-07, atol=0</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Mismatched elements: 5 / 5 (100%)</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max absolute difference: 2.33077711e-05</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max relative difference: 0.00025186</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        x: array([0.092519, 0.092367, 0.092215, 0.092063, 0.091911])</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        y: Column([0.092542, 0.09239 , 0.092238, 0.092086, 0.091934])</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py</span>:577: AssertionError
----------------------------- Captured stderr call -----------------------------
2022-07-07 07:45:07,063 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:07,243 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:07,243 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:07,243 - stpipe - INFO - theta_y correction: -0.009545474118238594 deg
2022-07-07 07:45:07,244 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:07,550 - stpipe - INFO - Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:07,550 - stpipe - INFO - Slits projected on detector NRS1: [&#39;S200A1&#39;, &#39;S200A2&#39;, &#39;S400A1&#39;, &#39;S1600A1&#39;]
2022-07-07 07:45:07,550 - stpipe - INFO - Computing WCS for 4 open slitlets
2022-07-07 07:45:07,587 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:07,587 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:07,587 - stpipe - INFO - theta_y correction: -0.009545474118238594 deg
2022-07-07 07:45:07,588 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:07,604 - stpipe - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
2022-07-07 07:45:07,764 - stpipe - INFO - There are 0 open slits in quadrant 1
2022-07-07 07:45:07,765 - stpipe - INFO - There are 0 open slits in quadrant 2
2022-07-07 07:45:07,765 - stpipe - INFO - There are 0 open slits in quadrant 3
2022-07-07 07:45:07,765 - stpipe - INFO - There are 0 open slits in quadrant 4
2022-07-07 07:45:07,765 - stpipe - INFO - There are 4 open slits in quadrant 5
2022-07-07 07:45:08,125 - stpipe - INFO - Created a NIRSPEC nrs_fixedslit pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;N/A&#39;, &#39;ifufore&#39;: &#39;N/A&#39;, &#39;ifuslicer&#39;: &#39;N/A&#39;}
2022-07-07 07:45:08,590 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:08,590 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:08,590 - stpipe - INFO - theta_y correction: -0.009545474118238594 deg
2022-07-07 07:45:08,591 - stpipe - INFO - theta_x correction: 0.0 deg
------------------------------ Captured log call -------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#39;S200A1&#39;, &#39;S200A2&#39;, &#39;S400A1&#39;, &#39;S1600A1&#39;]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#39;S200A1&#39;, &#39;S200A2&#39;, &#39;S400A1&#39;, &#39;S1600A1&#39;]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:308 Computing WCS for 4 open slitlets
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:308 Computing WCS for 4 open slitlets
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 4 open slits in quadrant 5
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 4 open slits in quadrant 5
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_fixedslit pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;N/A&#39;, &#39;ifufore&#39;: &#39;N/A&#39;, &#39;ifuslicer&#39;: &#39;N/A&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_fixedslit pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;N/A&#39;, &#39;ifufore&#39;: &#39;N/A&#39;, &#39;ifuslicer&#39;: &#39;N/A&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Bold -Color-Bold-Red">_________________________ test_functional_fs_msa[msa] __________________________</span>

mode = &#39;msa&#39;

    <span class=" -Color -Color-White">@pytest</span>.mark.parametrize((<span class=" -Color -Color-Yellow">&#39;mode&#39;</span>), [<span class=" -Color -Color-Yellow">&#39;fs&#39;</span>, <span class=" -Color -Color-Yellow">&#39;msa&#39;</span>])
    def test_functional_fs_msa(mode):
        #     &quot;&quot;&quot;
        #     Compare Nirspec instrument model with IDT model for FS and MSA.
        #     &quot;&quot;&quot;
        if mode == <span class=" -Color -Color-Yellow">&#39;fs&#39;</span>:
            model_file = <span class=" -Color -Color-Yellow">&#39;fixed_slits_functional_ESA_v4_20180618.txt&#39;</span>
            hdul = create_nirspec_fs_file(grating=<span class=" -Color -Color-Yellow">&#39;G395H&#39;</span>, filter=<span class=" -Color -Color-Yellow">&#39;F290LP&#39;</span>)
            im = datamodels.ImageModel(hdul)
            refs = create_reference_files(im)
            pipeline = nirspec.create_pipeline(im, refs, slit_y_range=[-0.55, 0.55])
            w = wcs.WCS(pipeline)
            im.meta.wcs = w
            # Use slit S200A1
            slit_wcs = nirspec.nrs_wcs_set_input(im, <span class=" -Color -Color-Yellow">&#39;S200A1&#39;</span>)
    
        if mode == <span class=" -Color -Color-Yellow">&#39;msa&#39;</span>:
            model_file = <span class=" -Color -Color-Yellow">&#39;msa_functional_ESA_v2_20180620.txt&#39;</span>
            hdul = create_nirspec_mos_file(grating=<span class=" -Color -Color-Yellow">&#39;G395H&#39;</span>, filt=<span class=" -Color -Color-Yellow">&#39;F290LP&#39;</span>)
            im = datamodels.ImageModel(hdul)
            refs = create_reference_files(im)
            slit = trmodels.Slit(name=1, shutter_id=4699, xcen=319, ycen=13,
                                 ymin=-0.55000000000000004, ymax=0.55000000000000004,
                                 quadrant=3, source_id=1, shutter_state=<span class=" -Color -Color-Yellow">&#39;x&#39;</span>,
                                 source_name=<span class=" -Color -Color-Yellow">&#39;lamp&#39;</span>, source_alias=<span class=" -Color -Color-Yellow">&#39;foo&#39;</span>,
                                 stellarity=100.0, source_xpos=-0.5, source_ypos=0.5)
            open_slits = [slit]
            pipeline = nirspec.slitlets_wcs(im, refs, open_slits)
            w = wcs.WCS(pipeline)
            im.meta.wcs = w
            slit_wcs = nirspec.nrs_wcs_set_input(im, 1)
    
        ins_file = get_file_path(model_file)
        ins_tab = table.Table.read(ins_file, format=<span class=" -Color -Color-Yellow">&#39;ascii&#39;</span>)
    
        # Setup the test
        slitx = [0] * 5
        slity = [-.5, -.25, 0, .25, .5]
        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6
    
        # Slit to MSA absolute
        slit2msa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;msa_frame&#39;</span>)
        msax, msay, _ = slit2msa(slitx, slity, lam)
    
        assert_allclose(slitx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xslitpos&#39;</span>])
        assert_allclose(slity, ins_tab[<span class=" -Color -Color-Yellow">&#39;yslitpos&#39;</span>])
        assert_allclose(msax, ins_tab[<span class=" -Color -Color-Yellow">&#39;xmsapos&#39;</span>])
        assert_allclose(msay, ins_tab[<span class=" -Color -Color-Yellow">&#39;ymaspos&#39;</span>])
    
        # Coordinates at Collimator exit
        # Applies the Collimator forward transform to MSa absolute coordinates
        with datamodels.open(refs[<span class=" -Color -Color-Yellow">&#39;collimator&#39;</span>]) as col:
            colx, coly = col.model.inverse(msax, msay)
        assert_allclose(colx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcoll&#39;</span>])
        assert_allclose(coly, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycoll&#39;</span>])
    
        # After applying directional cosines
        dircos = trmodels.Unitless2DirCos()
        xcolDircosi, ycolDircosi, z = dircos(colx, coly)
        assert_allclose(xcolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcolDirCosi&#39;</span>])
        assert_allclose(ycolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycolDirCosi&#39;</span>])
    
        # MSA to GWA entrance
        # This runs the Collimator forward, Unitless to Directional cosine, and
        # 3D Rotation. It uses the corrected GWA tilt value
        with datamodels.DisperserModel(refs[<span class=" -Color -Color-Yellow">&#39;disperser&#39;</span>]) as disp:
            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,
                                             im.meta.instrument.gwa_ytilt)
        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)
        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(msax, msay)
        assert_allclose(x_gwa_in, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispIn&#39;</span>])
        assert_allclose(y_gwa_in, ins_tab[<span class=" -Color -Color-Yellow">&#39;ydispIn&#39;</span>])
    
        # Slit to GWA out
        slit2gwa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;gwa&#39;</span>)
        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)
        assert_allclose(x_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispLaw&#39;</span>])
        assert_allclose(y_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;ydispLaw&#39;</span>])
    
        # CAMERA entrance (assuming direction is from sky to detector)
        angles = [disperser[<span class=" -Color -Color-Yellow">&#39;theta_x&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;theta_y&#39;</span>],
                  disperser[<span class=" -Color -Color-Yellow">&#39;theta_z&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;tilt_y&#39;</span>]]
        rotation = trmodels.Rotation3DToGWA(angles, axes_order=<span class=" -Color -Color-Yellow">&quot;xyzy&quot;</span>,
                                            name=<span class=" -Color -Color-Yellow">&#39;rotation&#39;</span>)
        dircos2unitless = trmodels.DirCos2Unitless()
        gwa2cam = rotation.inverse | dircos2unitless
        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out,
                                                       z_gwa_out)
        assert_allclose(x_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcamCosi&#39;</span>])
        assert_allclose(y_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycamCosi&#39;</span>])
    
        # at FPA
        with datamodels.CameraModel(refs[<span class=" -Color -Color-Yellow">&#39;camera&#39;</span>]) as camera:
            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)
        assert_allclose(x_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;xfpapos&#39;</span>])
        assert_allclose(y_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;yfpapos&#39;</span>])
    
        # at SCA These are 0-based , the IDT results are 1-based
        slit2sca = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;sca&#39;</span>)
        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)
        # At NRS2
        with datamodels.FPAModel(refs[<span class=" -Color -Color-Yellow">&#39;fpa&#39;</span>]) as fpa:
            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)
        # expect 1 pix difference
        wvlns_on_nrs1 = slice(2)
        wvlns_on_nrs2 = slice(2, 4)
        assert_allclose(x_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;i&#39;</span>][wvlns_on_nrs1])
        assert_allclose(y_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;j&#39;</span>][wvlns_on_nrs1])
        assert_allclose(x_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;i&#39;</span>][wvlns_on_nrs2])
        assert_allclose(y_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;j&#39;</span>][wvlns_on_nrs2])
    
        # at oteip
        slit2oteip = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;oteip&#39;</span>)
        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)
        assert_allclose(x_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;xOTEIP&#39;</span>])
        assert_allclose(y_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;yOTEIP&#39;</span>])
    
        # at v2, v3 [in arcsec]
        slit2v23 = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;v2v3&#39;</span>)
        v2, v3, _ = slit2v23(slitx, slity, lam)
        v2 /= 3600
        v3 /= 3600
&gt;       assert_allclose(v2, ins_tab[<span class=" -Color -Color-Yellow">&#39;xV2V3&#39;</span>])
<span class=" -Color -Color-Bold -Color-Bold-Red">E       AssertionError: </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Not equal to tolerance rtol=1e-07, atol=0</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Mismatched elements: 5 / 5 (100%)</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max absolute difference: 5.70063713e-05</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max relative difference: 0.00054809</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        x: array([0.103952, 0.10393 , 0.103909, 0.103887, 0.103865])</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        y: Column([0.104009, 0.103987, 0.103965, 0.103944, 0.103922])</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py</span>:577: AssertionError
----------------------------- Captured stderr call -----------------------------
2022-07-07 07:45:08,940 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_ytilt not applied
2022-07-07 07:45:09,106 - stpipe - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
2022-07-07 07:45:09,273 - stpipe - INFO - There are 0 open slits in quadrant 1
2022-07-07 07:45:09,273 - stpipe - INFO - There are 0 open slits in quadrant 2
2022-07-07 07:45:09,273 - stpipe - INFO - There are 1 open slits in quadrant 3
2022-07-07 07:45:09,287 - stpipe - INFO - There are 0 open slits in quadrant 4
2022-07-07 07:45:09,287 - stpipe - INFO - There are 0 open slits in quadrant 5
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_ytilt not applied
------------------------------ Captured log call -------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 1 open slits in quadrant 3
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 1 open slits in quadrant 3
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is None deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1383 gwa_xtilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1389 gwa_ytilt not applied
<span class=" -Color -Color-Bold -Color-Bold-Red">_________________________ test_functional_ifu_grating __________________________</span>

wcs_ifu_grating = &lt;function wcs_ifu_grating.&lt;locals&gt;._create_image_model at 0x7f67ef6f6dd0&gt;

    def test_functional_ifu_grating(wcs_ifu_grating):
        <span class=" -Color -Color-Yellow">&quot;&quot;&quot;Compare Nirspec instrument model with IDT model for IFU grating.&quot;&quot;&quot;</span>
    
        # setup test
        model_file = <span class=" -Color -Color-Yellow">&#39;ifu_grating_functional_ESA_v1_20180619.txt&#39;</span>
        im, refs = wcs_ifu_grating(<span class=" -Color -Color-Yellow">&#39;G395H&#39;</span>, <span class=" -Color -Color-Yellow">&#39;F290LP&#39;</span>, gwa_xtil=0.35986012, gwa_ytil=0.13448857)
    
        slit_wcs = nirspec.nrs_wcs_set_input(im, 0)  # use slice 0
        ins_file = get_file_path(model_file)
        ins_tab = table.Table.read(ins_file, format=<span class=" -Color -Color-Yellow">&#39;ascii&#39;</span>)
        slitx = [0] * 5
        slity = [-.5, -.25, 0, .25, .5]
        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6
        order, wrange = nirspec.get_spectral_order_wrange(im, refs[<span class=" -Color -Color-Yellow">&#39;wavelengthrange&#39;</span>])
        im.meta.wcsinfo.sporder = order
        im.meta.wcsinfo.waverange_start = wrange[0]
        im.meta.wcsinfo.waverange_end = wrange[1]
    
        # Slit to MSA entrance
        # This includes the Slicer transform and the IFUFORE transform
        slit2msa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;msa_frame&#39;</span>)
        msax, msay, _ = slit2msa(slitx, slity, lam)
        assert_allclose(slitx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xslitpos&#39;</span>])
        assert_allclose(slity, ins_tab[<span class=" -Color -Color-Yellow">&#39;yslitpos&#39;</span>])
        assert_allclose(msax + 0.0073, ins_tab[<span class=" -Color -Color-Yellow">&#39;xmsapos&#39;</span>], rtol=1e-2)  # expected offset
        assert_allclose(msay + 0.0085, ins_tab[<span class=" -Color -Color-Yellow">&#39;ymaspos&#39;</span>], rtol=1e-2)  # expected offset
    
        # Slicer
        slit2slicer = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;slicer&#39;</span>)
        x_slicer, y_slicer, _ = slit2slicer(slitx, slity, lam)
    
        # MSA exit
        # Applies the IFUPOST transform to coordinates at the Slicer
        with datamodels.IFUPostModel(refs[<span class=" -Color -Color-Yellow">&#39;ifupost&#39;</span>]) as ifupost:
            ifupost_transform = nirspec._create_ifupost_transform(ifupost.slice_0)
        x_msa_exit, y_msa_exit = ifupost_transform(x_slicer, y_slicer, lam)
        assert_allclose(x_msa_exit, ins_tab[<span class=" -Color -Color-Yellow">&#39;xmsapos&#39;</span>])
        assert_allclose(y_msa_exit, ins_tab[<span class=" -Color -Color-Yellow">&#39;ymaspos&#39;</span>])
    
        # Computations are done using the exact form of the equations in the reports
        # Part I of the Forward IFU-POST transform - the linear transform
        xc_out = 0.0487158154447
        yc_out = 0.00856211956976
        xc_in = 0.000355277216
        yc_in = -3.0089012e-05
        theta = np.deg2rad(-0.129043957046)
        factor_x = 0.100989874454
        factor_y = 0.100405184145
    
        # Slicer coordinates
        xS = 0.000399999989895
        yS = -0.00600000005215
    
        x = xc_out + factor_x * (+cos(theta) * (xS - xc_in) + sin(theta) * (yS - yc_in))
        y = yc_out + factor_y * (-sin(theta) * (xS - xc_in) + cos(theta) * (yS - yc_in))
    
        # Forward IFU-POST II part - non-linear transform
        lam = 2.9e-6
        coef_names = [<span class=" -Color -Color-Yellow">f&#39;c{</span>x<span class=" -Color -Color-Yellow">}_{</span>y<span class=" -Color -Color-Yellow">}&#39;</span> for x in range(6) for y in range(6) if x + y &lt;= 5]
        y_forw = [-82.3492267824, 29234.6982762, -540260.780853, 771881.305018,
                  -2563462.26848, 29914272.1164, 4513.04082605, -2212869.44311,
                  32875633.0303, -29923698.5288, 27293902.5636, -39820.4434726,
                  62431493.9962, -667197265.033, 297253538.182, -1838860.86305,
                  -777169857.2, 4514693865.7, 42790637.764, 3596423850.94,
                  -260274017.448]
        y_forw_dist = [188531839.97, -43453434864.0, 70807756765.8,
                       -308272809909.0, 159768473071.0, 9712633344590.0,
                       -11762923852.9, 3545938873190.0, -4198643655420.0,
                       12545642983100.0, -11707051591600.0, 173091230285.0,
                       -108534069056000.0, 82893348097600.0, -124708740989000.0,
                       2774389757990.0, 1476779720300000.0, -545358301961000.0,
                       -93101557994100.0, -7536890639430000.0, 646310545048000.0]
        y_coeff = {}
        for i, coef in enumerate(coef_names):
            y_coeff[coef] = y_forw[i] + lam * y_forw_dist[i]
        poly2d = astmodels.Polynomial2D(5, **y_coeff)
        ifupost_y = poly2d(x, y)
        assert_allclose(ifupost_y, ins_tab[<span class=" -Color -Color-Yellow">&#39;ymaspos&#39;</span>][0])
        assert_allclose(ifupost_y, y_msa_exit[0])
    
        # reset &#39;lam&#39;
        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6
    
        # Coordinates at Collimator exit
        # Applies the Collimator forward transform to coordinates at the MSA exit
        with datamodels.open(refs[<span class=" -Color -Color-Yellow">&#39;collimator&#39;</span>]) as col:
            colx, coly = col.model.inverse(x_msa_exit, y_msa_exit)
        assert_allclose(colx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcoll&#39;</span>])
        assert_allclose(coly, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycoll&#39;</span>])
    
        # After applying directional cosines
        dircos = trmodels.Unitless2DirCos()
        xcolDircosi, ycolDircosi, z = dircos(colx, coly)
        assert_allclose(xcolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcolDirCosi&#39;</span>])
        assert_allclose(ycolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycolDirCosi&#39;</span>])
    
        # Slit to GWA entrance
        # applies the Collimator forward, Unitless to Directional and 3D Rotation to MSA exit coordinates
        with datamodels.DisperserModel(refs[<span class=" -Color -Color-Yellow">&#39;disperser&#39;</span>]) as disp:
            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,
                                             im.meta.instrument.gwa_ytilt)
        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)
        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(x_msa_exit, y_msa_exit)
        assert_allclose(x_gwa_in, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispIn&#39;</span>])
    
        # Slit to GWA out
        # Runs slit--&gt; slicer --&gt; msa_exit --&gt; collimator --&gt; dircos --&gt; rotation --&gt; angle_from_grating equation
        slit2gwa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;gwa&#39;</span>)
        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)
        assert_allclose(x_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispLaw&#39;</span>])
        assert_allclose(y_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;ydispLaw&#39;</span>])
    
        # CAMERA entrance (assuming direction is from sky to detector)
        angles = [disperser[<span class=" -Color -Color-Yellow">&#39;theta_x&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;theta_y&#39;</span>],
                  disperser[<span class=" -Color -Color-Yellow">&#39;theta_z&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;tilt_y&#39;</span>]]
        rotation = trmodels.Rotation3DToGWA(angles, axes_order=<span class=" -Color -Color-Yellow">&quot;xyzy&quot;</span>, name=<span class=" -Color -Color-Yellow">&#39;rotation&#39;</span>)
        dircos2unitless = trmodels.DirCos2Unitless()
        gwa2cam = rotation.inverse | dircos2unitless
        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out, z_gwa_out)
        assert_allclose(x_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcamCosi&#39;</span>])
        assert_allclose(y_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycamCosi&#39;</span>])
    
        # at FPA
        with datamodels.CameraModel(refs[<span class=" -Color -Color-Yellow">&#39;camera&#39;</span>]) as camera:
            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)
        assert_allclose(x_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;xfpapos&#39;</span>])
        assert_allclose(y_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;yfpapos&#39;</span>])
    
        # at SCA
        slit2sca = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;sca&#39;</span>)
        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)
    
        # At NRS2
        with datamodels.FPAModel(refs[<span class=" -Color -Color-Yellow">&#39;fpa&#39;</span>]) as fpa:
            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)
        assert_allclose(x_sca_nrs1[:3] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;i&#39;</span>][:3])
        assert_allclose(y_sca_nrs1[:3] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;j&#39;</span>][:3])
        assert_allclose(x_sca_nrs2[3:] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;i&#39;</span>][3:])
        assert_allclose(y_sca_nrs2[3:] + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;j&#39;</span>][3:])
    
        # at oteip
        # Goes through slicer, ifufore, and fore transforms
        slit2oteip = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;oteip&#39;</span>)
        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)
        assert_allclose(x_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;xOTEIP&#39;</span>])
        assert_allclose(y_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;yOTEIP&#39;</span>])
    
        # at v2, v3 [in arcsec]
        slit2v23 = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;v2v3&#39;</span>)
        v2, v3, _ = slit2v23(slitx, slity, lam)
        v2 /= 3600
        v3 /= 3600
&gt;       assert_allclose(v2, ins_tab[<span class=" -Color -Color-Yellow">&#39;xV2V3&#39;</span>])
<span class=" -Color -Color-Bold -Color-Bold-Red">E       AssertionError: </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Not equal to tolerance rtol=1e-07, atol=0</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Mismatched elements: 5 / 5 (100%)</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max absolute difference: 3.18000578e-05</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max relative difference: 0.00038283</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        x: array([0.083622, 0.083476, 0.083329, 0.083181, 0.083034])</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        y: Column([0.083653, 0.083507, 0.08336 , 0.083213, 0.083065])</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py</span>:746: AssertionError
----------------------------- Captured stderr call -----------------------------
2022-07-07 07:45:10,190 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:10,357 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:10,358 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:10,358 - stpipe - INFO - theta_y correction: -0.041645342310905185 deg
2022-07-07 07:45:10,359 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:14,136 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
2022-07-07 07:45:18,399 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:18,399 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:18,400 - stpipe - INFO - theta_y correction: -0.041645342310905185 deg
2022-07-07 07:45:18,401 - stpipe - INFO - theta_x correction: 0.0 deg
------------------------------ Captured log call -------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Bold -Color-Bold-Red">__________________________ test_functional_ifu_prism ___________________________</span>

    def test_functional_ifu_prism():
        <span class=" -Color -Color-Yellow">&quot;&quot;&quot;Compare Nirspec instrument model with IDT model for IFU prism.&quot;&quot;&quot;</span>
        # setup test
        model_file = <span class=" -Color -Color-Yellow">&#39;ifu_prism_functional_ESA_v1_20180619.txt&#39;</span>
        hdu1 = create_nirspec_ifu_file(grating=<span class=" -Color -Color-Yellow">&#39;PRISM&#39;</span>, filter=<span class=" -Color -Color-Yellow">&#39;CLEAR&#39;</span>,
                                       gwa_xtil=0.35986012, gwa_ytil=0.13448857,
                                       gwa_tilt=37.1)
        im = datamodels.ImageModel(hdu1)
        refs = create_reference_files(im)
        pipeline = nirspec.create_pipeline(im, refs, slit_y_range=[-0.55, 0.55])
        w = wcs.WCS(pipeline)
        im.meta.wcs = w
        slit_wcs = nirspec.nrs_wcs_set_input(im, 0)  # use slice 0
        ins_file = get_file_path(model_file)
        ins_tab = table.Table.read(ins_file, format=<span class=" -Color -Color-Yellow">&#39;ascii&#39;</span>)
        slitx = [0] * 5
        slity = [-.5, -.25, 0, .25, .5]
        lam = np.array([.7e-7, 1e-6, 2e-6, 3e-6, 5e-6])
        order, wrange = nirspec.get_spectral_order_wrange(im, refs[<span class=" -Color -Color-Yellow">&#39;wavelengthrange&#39;</span>])
        im.meta.wcsinfo.sporder = order
        im.meta.wcsinfo.waverange_start = wrange[0]
        im.meta.wcsinfo.waverange_end = wrange[1]
    
        # Slit to MSA entrance
        # This includes the Slicer transform and the IFUFORE transform
        slit2msa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;msa_frame&#39;</span>)
        msax, msay, _ = slit2msa(slitx, slity, lam)
        assert_allclose(slitx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xslitpos&#39;</span>])
        assert_allclose(slity, ins_tab[<span class=" -Color -Color-Yellow">&#39;yslitpos&#39;</span>])
        assert_allclose(msax + 0.0073, ins_tab[<span class=" -Color -Color-Yellow">&#39;xmsapos&#39;</span>], rtol=1e-2)  # expected offset
        assert_allclose(msay + 0.0085, ins_tab[<span class=" -Color -Color-Yellow">&#39;ymaspos&#39;</span>], rtol=1e-2)  # expected offset
    
        # Slicer
        slit2slicer = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;slicer&#39;</span>)
        x_slicer, y_slicer, _ = slit2slicer(slitx, slity, lam)
    
        # MSA exit
        # Applies the IFUPOST transform to coordinates at the Slicer
        with datamodels.IFUPostModel(refs[<span class=" -Color -Color-Yellow">&#39;ifupost&#39;</span>]) as ifupost:
            ifupost_transform = nirspec._create_ifupost_transform(ifupost.slice_0)
        x_msa_exit, y_msa_exit = ifupost_transform(x_slicer, y_slicer, lam)
        assert_allclose(x_msa_exit, ins_tab[<span class=" -Color -Color-Yellow">&#39;xmsapos&#39;</span>])
        assert_allclose(y_msa_exit, ins_tab[<span class=" -Color -Color-Yellow">&#39;ymaspos&#39;</span>])
    
        # Coordinates at Collimator exit
        # Applies the Collimator forward transform to coordinates at the MSA exit
        with datamodels.open(refs[<span class=" -Color -Color-Yellow">&#39;collimator&#39;</span>]) as col:
            colx, coly = col.model.inverse(x_msa_exit, y_msa_exit)
        assert_allclose(colx, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcoll&#39;</span>])
        assert_allclose(coly, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycoll&#39;</span>])
    
        # After applying directional cosines
        dircos = trmodels.Unitless2DirCos()
        xcolDircosi, ycolDircosi, z = dircos(colx, coly)
        assert_allclose(xcolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcolDirCosi&#39;</span>])
        assert_allclose(ycolDircosi, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycolDirCosi&#39;</span>])
    
        # Slit to GWA entrance
        # applies the Collimator forward, Unitless to Directional and 3D Rotation to MSA exit coordinates
        with datamodels.DisperserModel(refs[<span class=" -Color -Color-Yellow">&#39;disperser&#39;</span>]) as disp:
            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,
                                             im.meta.instrument.gwa_ytilt)
        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)
        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(x_msa_exit, y_msa_exit)
        assert_allclose(x_gwa_in, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispIn&#39;</span>])
    
        # Slit to GWA out
        # Runs slit--&gt; slicer --&gt; msa_exit --&gt; collimator --&gt; dircos --&gt; rotation --&gt; angle_from_grating equation
        slit2gwa = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;gwa&#39;</span>)
        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)
        assert_allclose(x_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;xdispLaw&#39;</span>])
      
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  assert_allclose(y_gwa_out, ins_tab[<span class=" -Color -Color-Yellow">&#39;ydispLaw&#39;</span>])
    
        # CAMERA entrance (assuming direction is from sky to detector)
        angles = [disperser[<span class=" -Color -Color-Yellow">&#39;theta_x&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;theta_y&#39;</span>],
                  disperser[<span class=" -Color -Color-Yellow">&#39;theta_z&#39;</span>], disperser[<span class=" -Color -Color-Yellow">&#39;tilt_y&#39;</span>]]
        rotation = trmodels.Rotation3DToGWA(angles, axes_order=<span class=" -Color -Color-Yellow">&quot;xyzy&quot;</span>, name=<span class=" -Color -Color-Yellow">&#39;rotation&#39;</span>)
        dircos2unitless = trmodels.DirCos2Unitless()
        gwa2cam = rotation.inverse | dircos2unitless
        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out, z_gwa_out)
        assert_allclose(x_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;xcamCosi&#39;</span>])
        assert_allclose(y_camera_entrance, ins_tab[<span class=" -Color -Color-Yellow">&#39;ycamCosi&#39;</span>])
    
        # at FPA
        with datamodels.CameraModel(refs[<span class=" -Color -Color-Yellow">&#39;camera&#39;</span>]) as camera:
            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)
        assert_allclose(x_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;xfpapos&#39;</span>])
        assert_allclose(y_fpa, ins_tab[<span class=" -Color -Color-Yellow">&#39;yfpapos&#39;</span>])
    
        # at SCA
        slit2sca = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;sca&#39;</span>)
        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)
    
        # At NRS2
        with datamodels.FPAModel(refs[<span class=" -Color -Color-Yellow">&#39;fpa&#39;</span>]) as fpa:
            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)
        assert_allclose(x_sca_nrs1 + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;i&#39;</span>])
        assert_allclose(y_sca_nrs1 + 1, ins_tab[<span class=" -Color -Color-Yellow">&#39;j&#39;</span>])
    
        # at oteip
        # Goes through slicer, ifufore, and fore transforms
        slit2oteip = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;oteip&#39;</span>)
        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)
        assert_allclose(x_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;xOTEIP&#39;</span>])
        assert_allclose(y_oteip, ins_tab[<span class=" -Color -Color-Yellow">&#39;yOTEIP&#39;</span>])
    
        # at v2, v3 [in arcsec]
        slit2v23 = slit_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slit_frame&#39;</span>, <span class=" -Color -Color-Yellow">&#39;v2v3&#39;</span>)
        v2, v3, _ = slit2v23(slitx, slity, lam)
        v2 /= 3600
        v3 /= 3600
&gt;       assert_allclose(v2, ins_tab[<span class=" -Color -Color-Yellow">&#39;xV2V3&#39;</span>])
<span class=" -Color -Color-Bold -Color-Bold-Red">E       AssertionError: </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Not equal to tolerance rtol=1e-07, atol=0</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       </span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Mismatched elements: 5 / 5 (100%)</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max absolute difference: 3.18000578e-05</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E       Max relative difference: 0.00038283</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        x: array([0.083627, 0.08348 , 0.083332, 0.083184, 0.083034])</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        y: Column([0.083658, 0.083511, 0.083363, 0.083215, 0.083065])</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py</span>:861: AssertionError
----------------------------- Captured stderr call -----------------------------
2022-07-07 07:45:18,624 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:18,780 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:18,780 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:18,780 - stpipe - INFO - theta_y correction: -0.02747388780339539 deg
2022-07-07 07:45:18,781 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:23,133 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0034.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0028.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
2022-07-07 07:45:27,486 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:27,486 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:27,486 - stpipe - INFO - theta_y correction: -0.02747388780339539 deg
2022-07-07 07:45:27,487 - stpipe - INFO - theta_x correction: 0.0 deg
------------------------------ Captured log call -------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0034.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0028.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0034.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0028.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Bold -Color-Bold-Red">_______________________________ test_in_slice[1] _______________________________</span>

slice = 1
wcs_ifu_grating = &lt;function wcs_ifu_grating.&lt;locals&gt;._create_image_model at 0x7f67ef6f7d90&gt;
ifu_world_coord = (array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]))

    <span class=" -Color -Color-White">@pytest</span>.mark.parametrize(<span class=" -Color -Color-Yellow">&quot;slice&quot;</span>, [1, 17])
    def test_in_slice(slice, wcs_ifu_grating, ifu_world_coord):
        <span class=" -Color -Color-Yellow">&quot;&quot;&quot; Test that the number of valid outputs from a slice forward transform</span>
    <span class=" -Color -Color-Yellow">    equals the valid pixels within the slice from the slice backward transform.</span>
    <span class=" -Color -Color-Yellow">    &quot;&quot;&quot;</span>
        ra_all, dec_all, lam_all = ifu_world_coord
        im, refs = wcs_ifu_grating(<span class=" -Color -Color-Yellow">&quot;G140H&quot;</span>, <span class=" -Color -Color-Yellow">&quot;F100LP&quot;</span>)
        slice_wcs = nirspec.nrs_wcs_set_input(im, slice)
        slicer2world = slice_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slicer&#39;</span>,<span class=" -Color -Color-Yellow">&#39;world&#39;</span>)
        detector2slicer = slice_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;detector&#39;</span>,<span class=" -Color -Color-Yellow">&#39;slicer&#39;</span>)
        x, y = wcstools.grid_from_bounding_box(slice_wcs.bounding_box)
        onslice_ind = in_ifu_slice(slice_wcs, ra_all, dec_all, lam_all)
        slx, sly, sllam = slicer2world.inverse(ra_all, dec_all, lam_all)
        xinv,yinv = detector2slicer.inverse(slx[onslice_ind], sly[onslice_ind],
                                            sllam[onslice_ind])
    
        r, d, _ = slice_wcs(x, y)
&gt;       assert r[~np.isnan(r)].size == xinv.size
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert 56254 == 111624</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        +  where 56254 = array([164.9762088 , 164.97620881, 164.97620882, ..., 164.9763222 ,\n       164.97632226, 164.97632232]).size</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        +  and   111624 = array([1779.45768302, 1780.4572664 , 1781.45684965, ...,  176.54999383,\n        177.54919436,  178.54839552]).size</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py</span>:990: AssertionError
---------------------------- Captured stderr setup -----------------------------
2022-07-07 07:45:34,328 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:34,496 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:45:34,496 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:45:34,496 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:45:34,497 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:38,424 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
------------------------------ Captured log setup ------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
----------------------------- Captured stderr call -----------------------------
2022-07-07 07:46:50,743 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:46:50,913 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:46:50,914 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:46:50,914 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:46:50,915 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:46:54,863 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
------------------------------ Captured log call -------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Bold -Color-Bold-Red">______________________________ test_in_slice[17] _______________________________</span>

slice = 17
wcs_ifu_grating = &lt;function wcs_ifu_grating.&lt;locals&gt;._create_image_model at 0x7f67ee9bb520&gt;
ifu_world_coord = (array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]))

    <span class=" -Color -Color-White">@pytest</span>.mark.parametrize(<span class=" -Color -Color-Yellow">&quot;slice&quot;</span>, [1, 17])
    def test_in_slice(slice, wcs_ifu_grating, ifu_world_coord):
        <span class=" -Color -Color-Yellow">&quot;&quot;&quot; Test that the number of valid outputs from a slice forward transform</span>
    <span class=" -Color -Color-Yellow">    equals the valid pixels within the slice from the slice backward transform.</span>
    <span class=" -Color -Color-Yellow">    &quot;&quot;&quot;</span>
        ra_all, dec_all, lam_all = ifu_world_coord
        im, refs = wcs_ifu_grating(<span class=" -Color -Color-Yellow">&quot;G140H&quot;</span>, <span class=" -Color -Color-Yellow">&quot;F100LP&quot;</span>)
        slice_wcs = nirspec.nrs_wcs_set_input(im, slice)
        slicer2world = slice_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;slicer&#39;</span>,<span class=" -Color -Color-Yellow">&#39;world&#39;</span>)
        detector2slicer = slice_wcs.get_transform(<span class=" -Color -Color-Yellow">&#39;detector&#39;</span>,<span class=" -Color -Color-Yellow">&#39;slicer&#39;</span>)
        x, y = wcstools.grid_from_bounding_box(slice_wcs.bounding_box)
        onslice_ind = in_ifu_slice(slice_wcs, ra_all, dec_all, lam_all)
        slx, sly, sllam = slicer2world.inverse(ra_all, dec_all, lam_all)
        xinv,yinv = detector2slicer.inverse(slx[onslice_ind], sly[onslice_ind],
                                            sllam[onslice_ind])
    
        r, d, _ = slice_wcs(x, y)
&gt;       assert r[~np.isnan(r)].size == xinv.size
<span class=" -Color -Color-Bold -Color-Bold-Red">E       assert 54778 == 108931</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        +  where 54778 = array([164.97659644, 164.97659645, 164.97659647, ..., 164.97670979,\n       164.97670986, 164.97670993]).size</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">E        +  and   108931 = array([1853.71953962, 1854.71905796, 1855.7185762 , ...,  207.55513671,\n        208.55424944,  209.55336255]).size</span>

<span class=" -Color -Color-Bold -Color-Bold-Red">../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py</span>:990: AssertionError
---------------------------- Captured stderr setup -----------------------------
2022-07-07 07:47:04,242 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:47:04,398 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:47:04,398 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:47:04,399 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:47:04,400 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:47:08,273 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
------------------------------ Captured log setup ------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
----------------------------- Captured stderr call -----------------------------
2022-07-07 07:48:20,280 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:48:20,461 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:48:20,462 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:48:20,462 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:48:20,463 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:48:24,880 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
------------------------------ Captured log call -------------------------------
<span class=" -Color -Color-Green">INFO    </span> stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Green">INFO    </span> stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: &#39;N/A&#39;, &#39;filteroffset&#39;: &#39;N/A&#39;, &#39;specwcs&#39;: &#39;N/A&#39;, &#39;regions&#39;: &#39;N/A&#39;, &#39;wavelengthrange&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#39;, &#39;camera&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#39;, &#39;collimator&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#39;, &#39;disperser&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#39;, &#39;fore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#39;, &#39;fpa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#39;, &#39;msa&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#39;, &#39;ote&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#39;, &#39;ifupost&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#39;, &#39;ifufore&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#39;, &#39;ifuslicer&#39;: &#39;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#39;}
<span class=" -Color -Color-Yellow">=============================== warnings summary ===============================</span>
miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py: 21 warnings
  /internal/data1/jenkins/workspace/Notebooks/jwst_validation_notebooks_spacetelescope/miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/_pytest/python.py:192: PytestRemovedIn8Warning: Passing None has been deprecated.
  See https://docs.pytest.org/en/latest/how-to/capture-warnings.html#additional-use-cases-of-warnings-in-tests for alternatives in common use cases.
    result = testfunction(**testargs)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
- generated html file: file:///internal/data1/jenkins/workspace/Notebooks/jwst_validation_notebooks_spacetelescope/tmp/tmpv3qojqfd/regtest_report.html -
=========================== short test summary info ============================
FAILED ../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_size_on_sky
FAILED ../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_fs_msa[fs]
FAILED ../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_fs_msa[msa]
FAILED ../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_ifu_grating
FAILED ../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_ifu_prism
FAILED ../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_in_slice[1]
FAILED ../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_in_slice[17]
<span class=" -Color -Color-Red">======= </span><span class=" -Color -Color-Bold -Color-Bold-Red">7 failed</span>, <span class=" -Color -Color-Green">85 passed</span>, <span class=" -Color -Color-Yellow">4 xfailed</span>, <span class=" -Color -Color-Yellow">21 warnings</span><span class=" -Color -Color-Red"> in 255.80s (0:04:15) =======</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="n">html_report</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Test Report</title>
    <style>body {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 12px;
  /* do not increase min-width as some may use split screens */
  min-width: 800px;
  color: #999;
}

h1 {
  font-size: 24px;
  color: black;
}

h2 {
  font-size: 16px;
  color: black;
}

p {
  color: black;
}

a {
  color: #999;
}

table {
  border-collapse: collapse;
}

/******************************
 * SUMMARY INFORMATION
 ******************************/
#environment td {
  padding: 5px;
  border: 1px solid #E6E6E6;
}
#environment tr:nth-child(odd) {
  background-color: #f6f6f6;
}

/******************************
 * TEST RESULT COLORS
 ******************************/
span.passed,
.passed .col-result {
  color: green;
}

span.skipped,
span.xfailed,
span.rerun,
.skipped .col-result,
.xfailed .col-result,
.rerun .col-result {
  color: orange;
}

span.error,
span.failed,
span.xpassed,
.error .col-result,
.failed .col-result,
.xpassed .col-result {
  color: red;
}

/******************************
 * RESULTS TABLE
 *
 * 1. Table Layout
 * 2. Extra
 * 3. Sorting items
 *
 ******************************/
/*------------------
 * 1. Table Layout
 *------------------*/
#results-table {
  border: 1px solid #e6e6e6;
  color: #999;
  font-size: 12px;
  width: 100%;
}
#results-table th,
#results-table td {
  padding: 5px;
  border: 1px solid #E6E6E6;
  text-align: left;
}
#results-table th {
  font-weight: bold;
}

/*------------------
 * 2. Extra
 *------------------*/
.log {
  background-color: #e6e6e6;
  border: 1px solid #e6e6e6;
  color: black;
  display: block;
  font-family: "Courier New", Courier, monospace;
  height: 230px;
  overflow-y: scroll;
  padding: 5px;
  white-space: pre-wrap;
}
.log:only-child {
  height: inherit;
}

div.image {
  border: 1px solid #e6e6e6;
  float: right;
  height: 240px;
  margin-left: 5px;
  overflow: hidden;
  width: 320px;
}
div.image img {
  width: 320px;
}

div.video {
  border: 1px solid #e6e6e6;
  float: right;
  height: 240px;
  margin-left: 5px;
  overflow: hidden;
  width: 320px;
}
div.video video {
  overflow: hidden;
  width: 320px;
  height: 240px;
}

.collapsed {
  display: none;
}

.expander::after {
  content: " (show details)";
  color: #BBB;
  font-style: italic;
  cursor: pointer;
}

.collapser::after {
  content: " (hide details)";
  color: #BBB;
  font-style: italic;
  cursor: pointer;
}

/*------------------
 * 3. Sorting items
 *------------------*/
.sortable {
  cursor: pointer;
}

.sort-icon {
  font-size: 0px;
  float: left;
  margin-right: 5px;
  margin-top: 5px;
  /*triangle*/
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
}
.inactive .sort-icon {
  /*finish triangle*/
  border-top: 8px solid #E6E6E6;
}
.asc.active .sort-icon {
  /*finish triangle*/
  border-bottom: 8px solid #999;
}
.desc.active .sort-icon {
  /*finish triangle*/
  border-top: 8px solid #999;
}
</style></head>
  <body onLoad="init()">
    <script>/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function toArray(iter) {
    if (iter === null) {
        return null;
    }
    return Array.prototype.slice.call(iter);
}

function find(selector, elem) { // eslint-disable-line no-redeclare
    if (!elem) {
        elem = document;
    }
    return elem.querySelector(selector);
}

function findAll(selector, elem) {
    if (!elem) {
        elem = document;
    }
    return toArray(elem.querySelectorAll(selector));
}

function sortColumn(elem) {
    toggleSortStates(elem);
    const colIndex = toArray(elem.parentNode.childNodes).indexOf(elem);
    let key;
    if (elem.classList.contains('result')) {
        key = keyResult;
    } else if (elem.classList.contains('links')) {
        key = keyLink;
    } else {
        key = keyAlpha;
    }
    sortTable(elem, key(colIndex));
}

function showAllExtras() { // eslint-disable-line no-unused-vars
    findAll('.col-result').forEach(showExtras);
}

function hideAllExtras() { // eslint-disable-line no-unused-vars
    findAll('.col-result').forEach(hideExtras);
}

function showExtras(colresultElem) {
    const extras = colresultElem.parentNode.nextElementSibling;
    const expandcollapse = colresultElem.firstElementChild;
    extras.classList.remove('collapsed');
    expandcollapse.classList.remove('expander');
    expandcollapse.classList.add('collapser');
}

function hideExtras(colresultElem) {
    const extras = colresultElem.parentNode.nextElementSibling;
    const expandcollapse = colresultElem.firstElementChild;
    extras.classList.add('collapsed');
    expandcollapse.classList.remove('collapser');
    expandcollapse.classList.add('expander');
}

function showFilters() {
    const filterItems = document.getElementsByClassName('filter');
    for (let i = 0; i < filterItems.length; i++)
        filterItems[i].hidden = false;
}

function addCollapse() {
    // Add links for show/hide all
    const resulttable = find('table#results-table');
    const showhideall = document.createElement('p');
    showhideall.innerHTML = '<a href="javascript:showAllExtras()">Show all details</a> / ' +
                            '<a href="javascript:hideAllExtras()">Hide all details</a>';
    resulttable.parentElement.insertBefore(showhideall, resulttable);

    // Add show/hide link to each result
    findAll('.col-result').forEach(function(elem) {
        const collapsed = getQueryParameter('collapsed') || 'Passed';
        const extras = elem.parentNode.nextElementSibling;
        const expandcollapse = document.createElement('span');
        if (extras.classList.contains('collapsed')) {
            expandcollapse.classList.add('expander');
        } else if (collapsed.includes(elem.innerHTML)) {
            extras.classList.add('collapsed');
            expandcollapse.classList.add('expander');
        } else {
            expandcollapse.classList.add('collapser');
        }
        elem.appendChild(expandcollapse);

        elem.addEventListener('click', function(event) {
            if (event.currentTarget.parentNode.nextElementSibling.classList.contains('collapsed')) {
                showExtras(event.currentTarget);
            } else {
                hideExtras(event.currentTarget);
            }
        });
    });
}

function getQueryParameter(name) {
    const match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
    return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
}

function init () { // eslint-disable-line no-unused-vars
    resetSortHeaders();

    addCollapse();

    showFilters();

    sortColumn(find('.initial-sort'));

    findAll('.sortable').forEach(function(elem) {
        elem.addEventListener('click',
            function() {
                sortColumn(elem);
            }, false);
    });
}

function sortTable(clicked, keyFunc) {
    const rows = findAll('.results-table-row');
    const reversed = !clicked.classList.contains('asc');
    const sortedRows = sort(rows, keyFunc, reversed);
    /* Whole table is removed here because browsers acts much slower
     * when appending existing elements.
     */
    const thead = document.getElementById('results-table-head');
    document.getElementById('results-table').remove();
    const parent = document.createElement('table');
    parent.id = 'results-table';
    parent.appendChild(thead);
    sortedRows.forEach(function(elem) {
        parent.appendChild(elem);
    });
    document.getElementsByTagName('BODY')[0].appendChild(parent);
}

function sort(items, keyFunc, reversed) {
    const sortArray = items.map(function(item, i) {
        return [keyFunc(item), i];
    });

    sortArray.sort(function(a, b) {
        const keyA = a[0];
        const keyB = b[0];

        if (keyA == keyB) return 0;

        if (reversed) {
            return keyA < keyB ? 1 : -1;
        } else {
            return keyA > keyB ? 1 : -1;
        }
    });

    return sortArray.map(function(item) {
        const index = item[1];
        return items[index];
    });
}

function keyAlpha(colIndex) {
    return function(elem) {
        return elem.childNodes[1].childNodes[colIndex].firstChild.data.toLowerCase();
    };
}

function keyLink(colIndex) {
    return function(elem) {
        const dataCell = elem.childNodes[1].childNodes[colIndex].firstChild;
        return dataCell == null ? '' : dataCell.innerText.toLowerCase();
    };
}

function keyResult(colIndex) {
    return function(elem) {
        const strings = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed',
            'Skipped', 'Passed'];
        return strings.indexOf(elem.childNodes[1].childNodes[colIndex].firstChild.data);
    };
}

function resetSortHeaders() {
    findAll('.sort-icon').forEach(function(elem) {
        elem.parentNode.removeChild(elem);
    });
    findAll('.sortable').forEach(function(elem) {
        const icon = document.createElement('div');
        icon.className = 'sort-icon';
        icon.textContent = 'vvv';
        elem.insertBefore(icon, elem.firstChild);
        elem.classList.remove('desc', 'active');
        elem.classList.add('asc', 'inactive');
    });
}

function toggleSortStates(elem) {
    //if active, toggle between asc and desc
    if (elem.classList.contains('active')) {
        elem.classList.toggle('asc');
        elem.classList.toggle('desc');
    }

    //if inactive, reset all other functions and add ascending active
    if (elem.classList.contains('inactive')) {
        resetSortHeaders();
        elem.classList.remove('inactive');
        elem.classList.add('active');
    }
}

function isAllRowsHidden(value) {
    return value.hidden == false;
}

function filterTable(elem) { // eslint-disable-line no-unused-vars
    const outcomeAtt = 'data-test-result';
    const outcome = elem.getAttribute(outcomeAtt);
    const classOutcome = outcome + ' results-table-row';
    const outcomeRows = document.getElementsByClassName(classOutcome);

    for(let i = 0; i < outcomeRows.length; i++){
        outcomeRows[i].hidden = !elem.checked;
    }

    const rows = findAll('.results-table-row').filter(isAllRowsHidden);
    const allRowsHidden = rows.length == 0 ? true : false;
    const notFoundMessage = document.getElementById('not-found-message');
    notFoundMessage.hidden = !allRowsHidden;
}
</script>
    <h1>regtest_report.html</h1>
    <p>Report generated on 07-Jul-2022 at 07:48:41 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a> v3.1.1</p>
    <h2>Environment</h2>
    <table id="environment">
      <tr>
        <td>BUILD_ID</td>
        <td>113</td></tr>
      <tr>
        <td>BUILD_NUMBER</td>
        <td>113</td></tr>
      <tr>
        <td>BUILD_TAG</td>
        <td>jenkins-Notebooks-jwst_validation_notebooks_spacetelescope-113</td></tr>
      <tr>
        <td>BUILD_URL</td>
        <td><a href="https://plwishmaster.stsci.edu:8081/job/Notebooks/job/jwst_validation_notebooks_spacetelescope/113/" target="_blank">https://plwishmaster.stsci.edu:8081/job/Notebooks/job/jwst_validation_notebooks_spacetelescope/113/</a></td></tr>
      <tr>
        <td>EXECUTOR_NUMBER</td>
        <td>21</td></tr>
      <tr>
        <td>GIT_BRANCH</td>
        <td>origin/master</td></tr>
      <tr>
        <td>GIT_COMMIT</td>
        <td>70ffb42f71ade1656f96080e6fe2147d145aff21</td></tr>
      <tr>
        <td>GIT_URL</td>
        <td><a href="https://github.com/spacetelescope/jwst_validation_notebooks" target="_blank">https://github.com/spacetelescope/jwst_validation_notebooks</a></td></tr>
      <tr>
        <td>JENKINS_URL</td>
        <td><a href="https://plwishmaster.stsci.edu:8081/" target="_blank">https://plwishmaster.stsci.edu:8081/</a></td></tr>
      <tr>
        <td>JOB_NAME</td>
        <td>Notebooks/jwst_validation_notebooks_spacetelescope</td></tr>
      <tr>
        <td>NODE_NAME</td>
        <td>pljwvalnb.stsci.edu</td></tr>
      <tr>
        <td>Packages</td>
        <td>{"pluggy": "1.0.0", "py": "1.11.0", "pytest": "7.1.2"}</td></tr>
      <tr>
        <td>Platform</td>
        <td>Linux-3.10.0-1160.66.1.el7.x86_64-x86_64-with-glibc2.17</td></tr>
      <tr>
        <td>Plugins</td>
        <td>{"asdf": "2.12.0", "ci-watson": "0.6.1", "html": "3.1.1", "jwst": "1.5.3", "metadata": "2.0.1"}</td></tr>
      <tr>
        <td>Python</td>
        <td>3.10.5</td></tr>
      <tr>
        <td>WORKSPACE</td>
        <td>/internal/data1/jenkins/workspace/Notebooks/jwst_validation_notebooks_spacetelescope</td></tr></table>
    <h2>Summary</h2>
    <p>96 tests ran in 255.65 seconds. </p>
    <p class="filter" hidden="true">(Un)check the boxes to filter the results.</p><input checked="true" class="filter" data-test-result="passed" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="passed">85 passed</span>, <input checked="true" class="filter" data-test-result="skipped" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="skipped">0 skipped</span>, <input checked="true" class="filter" data-test-result="failed" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="failed">7 failed</span>, <input checked="true" class="filter" data-test-result="error" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="error">0 errors</span>, <input checked="true" class="filter" data-test-result="xfailed" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="xfailed">4 expected failures</span>, <input checked="true" class="filter" data-test-result="xpassed" disabled="true" hidden="true" name="filter_checkbox" onChange="filterTable(this)" type="checkbox"/><span class="xpassed">0 unexpected passes</span>
    <h2>Results</h2>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable result initial-sort" col="result">Result</th>
          <th class="sortable" col="name">Test</th>
          <th class="sortable" col="duration">Duration</th>
          <th class="sortable links" col="links">Links</th></tr>
        <tr hidden="true" id="not-found-message">
          <th colspan="4">No results found. Try to check the filters</th></tr></thead>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_size_on_sky</td>
          <td class="col-duration">1.29</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">def test_shutter_size_on_sky():<br/>        &quot;&quot;&quot;<br/>        Test the size of a MOS shutter on sky is ~ .2 x .4 arcsec.<br/>        &quot;&quot;&quot;<br/>        image = create_nirspec_mos_file()<br/>        model = datamodels.ImageModel(image)<br/>        msaconfl = get_file_path(&#x27;msa_configuration.fits&#x27;)<br/>    <br/>        model.meta.instrument.msa_metadata_file = msaconfl<br/>        model.meta.instrument.msa_metadata_id = 12<br/>    <br/>        refs = create_reference_files(model)<br/>    <br/>        pipe = nirspec.create_pipeline(model, refs, slit_y_range=(-.5, .5))<br/>        w = wcs.WCS(pipe)<br/>        model.meta.wcs = w<br/>        slit = w.get_transform(&#x27;slit_frame&#x27;, &#x27;msa_frame&#x27;).slits[0]<br/>        wslit = nirspec.nrs_wcs_set_input(model, slit.name)<br/>        virtual_corners_x = [-.5, -.5, .5, .5, -.5]<br/>        virtual_corners_y = [-.5, .5, .5, -.5, -.5]<br/>        input_lam = [2e-6] * 5<br/>    <br/>        slit2world = wslit.get_transform(&#x27;slit_frame&#x27;, &#x27;world&#x27;)<br/>        ra, dec, lam = slit2world(virtual_corners_x,<br/>                                  virtual_corners_y,<br/>                                  input_lam)<br/>        sky = coords.SkyCoord(ra * u.deg, dec * u.deg)<br/>        sep_x = sky[0].separation(sky[3]).to(u.arcsec)<br/>        sep_y = sky[0].separation(sky[1]).to(u.arcsec)<br/>    <br/>        assert sep_x.value &gt; 0.193<br/>&gt;       assert sep_x.value &lt; 0.194<br/><span class="error">E       assert 0.1943238349352521 &lt; 0.194</span><br/><span class="error">E        +  where 0.1943238349352521 = &lt;Angle 0.19432383 arcsec&gt;.value</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py:450: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:05,739 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:05,849 - stpipe - INFO - MSA metadata file not in reference files dict
2022-07-07 07:45:05,849 - stpipe - INFO - Getting MSA metadata file from MSAMETFL keyword
2022-07-07 07:45:05,862 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:05,906 - stpipe - INFO - gwa_ytilt not applied
2022-07-07 07:45:06,112 - stpipe - INFO - Slits projected on detector NRS1: [55]
2022-07-07 07:45:06,113 - stpipe - INFO - Computing WCS for 1 open slitlets
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:06,150 - stpipe - INFO - gwa_ytilt not applied
2022-07-07 07:45:06,167 - stpipe - INFO - SPORDER= -1, wrange=[1.66e-06, 3.17e-06]
2022-07-07 07:45:06,347 - stpipe - INFO - There are 0 open slits in quadrant 1
2022-07-07 07:45:06,348 - stpipe - INFO - There are 0 open slits in quadrant 2
2022-07-07 07:45:06,348 - stpipe - INFO - There are 0 open slits in quadrant 3
2022-07-07 07:45:06,348 - stpipe - INFO - There are 1 open slits in quadrant 4
2022-07-07 07:45:06,356 - stpipe - INFO - There are 0 open slits in quadrant 5
2022-07-07 07:45:06,510 - stpipe - INFO - Created a NIRSPEC nrs_msaspec pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:473 MSA metadata file not in reference files dict
INFO     stpipe:nirspec.py:473 MSA metadata file not in reference files dict
INFO     stpipe:nirspec.py:474 Getting MSA metadata file from MSAMETFL keyword
INFO     stpipe:nirspec.py:474 Getting MSA metadata file from MSAMETFL keyword
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (55, 12, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (55, 12, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [55]
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [55]
INFO     stpipe:nirspec.py:308 Computing WCS for 1 open slitlets
INFO     stpipe:nirspec.py:308 Computing WCS for 1 open slitlets
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[1.66e-06, 3.17e-06]
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[1.66e-06, 3.17e-06]
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 1 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 1 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_msaspec pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_msaspec pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_fs_msa[fs]</td>
          <td class="col-duration">1.86</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">mode = &#x27;fs&#x27;<br/><br/>    @pytest.mark.parametrize((&#x27;mode&#x27;), [&#x27;fs&#x27;, &#x27;msa&#x27;])<br/>    def test_functional_fs_msa(mode):<br/>        #     &quot;&quot;&quot;<br/>        #     Compare Nirspec instrument model with IDT model for FS and MSA.<br/>        #     &quot;&quot;&quot;<br/>        if mode == &#x27;fs&#x27;:<br/>            model_file = &#x27;fixed_slits_functional_ESA_v4_20180618.txt&#x27;<br/>            hdul = create_nirspec_fs_file(grating=&#x27;G395H&#x27;, filter=&#x27;F290LP&#x27;)<br/>            im = datamodels.ImageModel(hdul)<br/>            refs = create_reference_files(im)<br/>            pipeline = nirspec.create_pipeline(im, refs, slit_y_range=[-0.55, 0.55])<br/>            w = wcs.WCS(pipeline)<br/>            im.meta.wcs = w<br/>            # Use slit S200A1<br/>            slit_wcs = nirspec.nrs_wcs_set_input(im, &#x27;S200A1&#x27;)<br/>    <br/>        if mode == &#x27;msa&#x27;:<br/>            model_file = &#x27;msa_functional_ESA_v2_20180620.txt&#x27;<br/>            hdul = create_nirspec_mos_file(grating=&#x27;G395H&#x27;, filt=&#x27;F290LP&#x27;)<br/>            im = datamodels.ImageModel(hdul)<br/>            refs = create_reference_files(im)<br/>            slit = trmodels.Slit(name=1, shutter_id=4699, xcen=319, ycen=13,<br/>                                 ymin=-0.55000000000000004, ymax=0.55000000000000004,<br/>                                 quadrant=3, source_id=1, shutter_state=&#x27;x&#x27;,<br/>                                 source_name=&#x27;lamp&#x27;, source_alias=&#x27;foo&#x27;,<br/>                                 stellarity=100.0, source_xpos=-0.5, source_ypos=0.5)<br/>            open_slits = [slit]<br/>            pipeline = nirspec.slitlets_wcs(im, refs, open_slits)<br/>            w = wcs.WCS(pipeline)<br/>            im.meta.wcs = w<br/>            slit_wcs = nirspec.nrs_wcs_set_input(im, 1)<br/>    <br/>        ins_file = get_file_path(model_file)<br/>        ins_tab = table.Table.read(ins_file, format=&#x27;ascii&#x27;)<br/>    <br/>        # Setup the test<br/>        slitx = [0] * 5<br/>        slity = [-.5, -.25, 0, .25, .5]<br/>        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6<br/>    <br/>        # Slit to MSA absolute<br/>        slit2msa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;msa_frame&#x27;)<br/>        msax, msay, _ = slit2msa(slitx, slity, lam)<br/>    <br/>        assert_allclose(slitx, ins_tab[&#x27;xslitpos&#x27;])<br/>        assert_allclose(slity, ins_tab[&#x27;yslitpos&#x27;])<br/>        assert_allclose(msax, ins_tab[&#x27;xmsapos&#x27;])<br/>        assert_allclose(msay, ins_tab[&#x27;ymaspos&#x27;])<br/>    <br/>        # Coordinates at Collimator exit<br/>        # Applies the Collimator forward transform to MSa absolute coordinates<br/>        with datamodels.open(refs[&#x27;collimator&#x27;]) as col:<br/>            colx, coly = col.model.inverse(msax, msay)<br/>        assert_allclose(colx, ins_tab[&#x27;xcoll&#x27;])<br/>        assert_allclose(coly, ins_tab[&#x27;ycoll&#x27;])<br/>    <br/>        # After applying directional cosines<br/>        dircos = trmodels.Unitless2DirCos()<br/>        xcolDircosi, ycolDircosi, z = dircos(colx, coly)<br/>        assert_allclose(xcolDircosi, ins_tab[&#x27;xcolDirCosi&#x27;])<br/>        assert_allclose(ycolDircosi, ins_tab[&#x27;ycolDirCosi&#x27;])<br/>    <br/>        # MSA to GWA entrance<br/>        # This runs the Collimator forward, Unitless to Directional cosine, and<br/>        # 3D Rotation. It uses the corrected GWA tilt value<br/>        with datamodels.DisperserModel(refs[&#x27;disperser&#x27;]) as disp:<br/>            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,<br/>                                             im.meta.instrument.gwa_ytilt)<br/>        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)<br/>        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(msax, msay)<br/>        assert_allclose(x_gwa_in, ins_tab[&#x27;xdispIn&#x27;])<br/>        assert_allclose(y_gwa_in, ins_tab[&#x27;ydispIn&#x27;])<br/>    <br/>        # Slit to GWA out<br/>        slit2gwa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;gwa&#x27;)<br/>        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)<br/>        assert_allclose(x_gwa_out, ins_tab[&#x27;xdispLaw&#x27;])<br/>        assert_allclose(y_gwa_out, ins_tab[&#x27;ydispLaw&#x27;])<br/>    <br/>        # CAMERA entrance (assuming direction is from sky to detector)<br/>        angles = [disperser[&#x27;theta_x&#x27;], disperser[&#x27;theta_y&#x27;],<br/>                  disperser[&#x27;theta_z&#x27;], disperser[&#x27;tilt_y&#x27;]]<br/>        rotation = trmodels.Rotation3DToGWA(angles, axes_order=&quot;xyzy&quot;,<br/>                                            name=&#x27;rotation&#x27;)<br/>        dircos2unitless = trmodels.DirCos2Unitless()<br/>        gwa2cam = rotation.inverse | dircos2unitless<br/>        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out,<br/>                                                       z_gwa_out)<br/>        assert_allclose(x_camera_entrance, ins_tab[&#x27;xcamCosi&#x27;])<br/>        assert_allclose(y_camera_entrance, ins_tab[&#x27;ycamCosi&#x27;])<br/>    <br/>        # at FPA<br/>        with datamodels.CameraModel(refs[&#x27;camera&#x27;]) as camera:<br/>            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)<br/>        assert_allclose(x_fpa, ins_tab[&#x27;xfpapos&#x27;])<br/>        assert_allclose(y_fpa, ins_tab[&#x27;yfpapos&#x27;])<br/>    <br/>        # at SCA These are 0-based , the IDT results are 1-based<br/>        slit2sca = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;sca&#x27;)<br/>        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)<br/>        # At NRS2<br/>        with datamodels.FPAModel(refs[&#x27;fpa&#x27;]) as fpa:<br/>            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)<br/>        # expect 1 pix difference<br/>        wvlns_on_nrs1 = slice(2)<br/>        wvlns_on_nrs2 = slice(2, 4)<br/>        assert_allclose(x_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[&#x27;i&#x27;][wvlns_on_nrs1])<br/>        assert_allclose(y_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[&#x27;j&#x27;][wvlns_on_nrs1])<br/>        assert_allclose(x_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[&#x27;i&#x27;][wvlns_on_nrs2])<br/>        assert_allclose(y_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[&#x27;j&#x27;][wvlns_on_nrs2])<br/>    <br/>        # at oteip<br/>        slit2oteip = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;oteip&#x27;)<br/>        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)<br/>        assert_allclose(x_oteip, ins_tab[&#x27;xOTEIP&#x27;])<br/>        assert_allclose(y_oteip, ins_tab[&#x27;yOTEIP&#x27;])<br/>    <br/>        # at v2, v3 [in arcsec]<br/>        slit2v23 = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;v2v3&#x27;)<br/>        v2, v3, _ = slit2v23(slitx, slity, lam)<br/>        v2 /= 3600<br/>        v3 /= 3600<br/>&gt;       assert_allclose(v2, ins_tab[&#x27;xV2V3&#x27;])<br/><span class="error">E       AssertionError: </span><br/><span class="error">E       Not equal to tolerance rtol=1e-07, atol=0</span><br/><span class="error">E       </span><br/><span class="error">E       Mismatched elements: 5 / 5 (100%)</span><br/><span class="error">E       Max absolute difference: 2.33077711e-05</span><br/><span class="error">E       Max relative difference: 0.00025186</span><br/><span class="error">E        x: array([0.092519, 0.092367, 0.092215, 0.092063, 0.091911])</span><br/><span class="error">E        y: Column([0.092542, 0.09239 , 0.092238, 0.092086, 0.091934])</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py:577: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:07,063 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:07,243 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:07,243 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:07,243 - stpipe - INFO - theta_y correction: -0.009545474118238594 deg
2022-07-07 07:45:07,244 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:07,550 - stpipe - INFO - Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:07,550 - stpipe - INFO - Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
2022-07-07 07:45:07,550 - stpipe - INFO - Computing WCS for 4 open slitlets
2022-07-07 07:45:07,587 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:07,587 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:07,587 - stpipe - INFO - theta_y correction: -0.009545474118238594 deg
2022-07-07 07:45:07,588 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:07,604 - stpipe - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
2022-07-07 07:45:07,764 - stpipe - INFO - There are 0 open slits in quadrant 1
2022-07-07 07:45:07,765 - stpipe - INFO - There are 0 open slits in quadrant 2
2022-07-07 07:45:07,765 - stpipe - INFO - There are 0 open slits in quadrant 3
2022-07-07 07:45:07,765 - stpipe - INFO - There are 0 open slits in quadrant 4
2022-07-07 07:45:07,765 - stpipe - INFO - There are 4 open slits in quadrant 5
2022-07-07 07:45:08,125 - stpipe - INFO - Created a NIRSPEC nrs_fixedslit pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
2022-07-07 07:45:08,590 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:08,590 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:08,590 - stpipe - INFO - theta_y correction: -0.009545474118238594 deg
2022-07-07 07:45:08,591 - stpipe - INFO - theta_x correction: 0.0 deg
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
INFO     stpipe:nirspec.py:308 Computing WCS for 4 open slitlets
INFO     stpipe:nirspec.py:308 Computing WCS for 4 open slitlets
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 4 open slits in quadrant 5
INFO     stpipe:nirspec.py:1020 There are 4 open slits in quadrant 5
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_fixedslit pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_fixedslit pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.009545474118238594 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg<br/></div></td></tr></tbody>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_fs_msa[msa]</td>
          <td class="col-duration">1.22</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">mode = &#x27;msa&#x27;<br/><br/>    @pytest.mark.parametrize((&#x27;mode&#x27;), [&#x27;fs&#x27;, &#x27;msa&#x27;])<br/>    def test_functional_fs_msa(mode):<br/>        #     &quot;&quot;&quot;<br/>        #     Compare Nirspec instrument model with IDT model for FS and MSA.<br/>        #     &quot;&quot;&quot;<br/>        if mode == &#x27;fs&#x27;:<br/>            model_file = &#x27;fixed_slits_functional_ESA_v4_20180618.txt&#x27;<br/>            hdul = create_nirspec_fs_file(grating=&#x27;G395H&#x27;, filter=&#x27;F290LP&#x27;)<br/>            im = datamodels.ImageModel(hdul)<br/>            refs = create_reference_files(im)<br/>            pipeline = nirspec.create_pipeline(im, refs, slit_y_range=[-0.55, 0.55])<br/>            w = wcs.WCS(pipeline)<br/>            im.meta.wcs = w<br/>            # Use slit S200A1<br/>            slit_wcs = nirspec.nrs_wcs_set_input(im, &#x27;S200A1&#x27;)<br/>    <br/>        if mode == &#x27;msa&#x27;:<br/>            model_file = &#x27;msa_functional_ESA_v2_20180620.txt&#x27;<br/>            hdul = create_nirspec_mos_file(grating=&#x27;G395H&#x27;, filt=&#x27;F290LP&#x27;)<br/>            im = datamodels.ImageModel(hdul)<br/>            refs = create_reference_files(im)<br/>            slit = trmodels.Slit(name=1, shutter_id=4699, xcen=319, ycen=13,<br/>                                 ymin=-0.55000000000000004, ymax=0.55000000000000004,<br/>                                 quadrant=3, source_id=1, shutter_state=&#x27;x&#x27;,<br/>                                 source_name=&#x27;lamp&#x27;, source_alias=&#x27;foo&#x27;,<br/>                                 stellarity=100.0, source_xpos=-0.5, source_ypos=0.5)<br/>            open_slits = [slit]<br/>            pipeline = nirspec.slitlets_wcs(im, refs, open_slits)<br/>            w = wcs.WCS(pipeline)<br/>            im.meta.wcs = w<br/>            slit_wcs = nirspec.nrs_wcs_set_input(im, 1)<br/>    <br/>        ins_file = get_file_path(model_file)<br/>        ins_tab = table.Table.read(ins_file, format=&#x27;ascii&#x27;)<br/>    <br/>        # Setup the test<br/>        slitx = [0] * 5<br/>        slity = [-.5, -.25, 0, .25, .5]<br/>        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6<br/>    <br/>        # Slit to MSA absolute<br/>        slit2msa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;msa_frame&#x27;)<br/>        msax, msay, _ = slit2msa(slitx, slity, lam)<br/>    <br/>        assert_allclose(slitx, ins_tab[&#x27;xslitpos&#x27;])<br/>        assert_allclose(slity, ins_tab[&#x27;yslitpos&#x27;])<br/>        assert_allclose(msax, ins_tab[&#x27;xmsapos&#x27;])<br/>        assert_allclose(msay, ins_tab[&#x27;ymaspos&#x27;])<br/>    <br/>        # Coordinates at Collimator exit<br/>        # Applies the Collimator forward transform to MSa absolute coordinates<br/>        with datamodels.open(refs[&#x27;collimator&#x27;]) as col:<br/>            colx, coly = col.model.inverse(msax, msay)<br/>        assert_allclose(colx, ins_tab[&#x27;xcoll&#x27;])<br/>        assert_allclose(coly, ins_tab[&#x27;ycoll&#x27;])<br/>    <br/>        # After applying directional cosines<br/>        dircos = trmodels.Unitless2DirCos()<br/>        xcolDircosi, ycolDircosi, z = dircos(colx, coly)<br/>        assert_allclose(xcolDircosi, ins_tab[&#x27;xcolDirCosi&#x27;])<br/>        assert_allclose(ycolDircosi, ins_tab[&#x27;ycolDirCosi&#x27;])<br/>    <br/>        # MSA to GWA entrance<br/>        # This runs the Collimator forward, Unitless to Directional cosine, and<br/>        # 3D Rotation. It uses the corrected GWA tilt value<br/>        with datamodels.DisperserModel(refs[&#x27;disperser&#x27;]) as disp:<br/>            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,<br/>                                             im.meta.instrument.gwa_ytilt)<br/>        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)<br/>        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(msax, msay)<br/>        assert_allclose(x_gwa_in, ins_tab[&#x27;xdispIn&#x27;])<br/>        assert_allclose(y_gwa_in, ins_tab[&#x27;ydispIn&#x27;])<br/>    <br/>        # Slit to GWA out<br/>        slit2gwa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;gwa&#x27;)<br/>        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)<br/>        assert_allclose(x_gwa_out, ins_tab[&#x27;xdispLaw&#x27;])<br/>        assert_allclose(y_gwa_out, ins_tab[&#x27;ydispLaw&#x27;])<br/>    <br/>        # CAMERA entrance (assuming direction is from sky to detector)<br/>        angles = [disperser[&#x27;theta_x&#x27;], disperser[&#x27;theta_y&#x27;],<br/>                  disperser[&#x27;theta_z&#x27;], disperser[&#x27;tilt_y&#x27;]]<br/>        rotation = trmodels.Rotation3DToGWA(angles, axes_order=&quot;xyzy&quot;,<br/>                                            name=&#x27;rotation&#x27;)<br/>        dircos2unitless = trmodels.DirCos2Unitless()<br/>        gwa2cam = rotation.inverse | dircos2unitless<br/>        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out,<br/>                                                       z_gwa_out)<br/>        assert_allclose(x_camera_entrance, ins_tab[&#x27;xcamCosi&#x27;])<br/>        assert_allclose(y_camera_entrance, ins_tab[&#x27;ycamCosi&#x27;])<br/>    <br/>        # at FPA<br/>        with datamodels.CameraModel(refs[&#x27;camera&#x27;]) as camera:<br/>            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)<br/>        assert_allclose(x_fpa, ins_tab[&#x27;xfpapos&#x27;])<br/>        assert_allclose(y_fpa, ins_tab[&#x27;yfpapos&#x27;])<br/>    <br/>        # at SCA These are 0-based , the IDT results are 1-based<br/>        slit2sca = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;sca&#x27;)<br/>        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)<br/>        # At NRS2<br/>        with datamodels.FPAModel(refs[&#x27;fpa&#x27;]) as fpa:<br/>            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)<br/>        # expect 1 pix difference<br/>        wvlns_on_nrs1 = slice(2)<br/>        wvlns_on_nrs2 = slice(2, 4)<br/>        assert_allclose(x_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[&#x27;i&#x27;][wvlns_on_nrs1])<br/>        assert_allclose(y_sca_nrs1[wvlns_on_nrs1] + 1, ins_tab[&#x27;j&#x27;][wvlns_on_nrs1])<br/>        assert_allclose(x_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[&#x27;i&#x27;][wvlns_on_nrs2])<br/>        assert_allclose(y_sca_nrs2[wvlns_on_nrs2] + 1, ins_tab[&#x27;j&#x27;][wvlns_on_nrs2])<br/>    <br/>        # at oteip<br/>        slit2oteip = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;oteip&#x27;)<br/>        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)<br/>        assert_allclose(x_oteip, ins_tab[&#x27;xOTEIP&#x27;])<br/>        assert_allclose(y_oteip, ins_tab[&#x27;yOTEIP&#x27;])<br/>    <br/>        # at v2, v3 [in arcsec]<br/>        slit2v23 = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;v2v3&#x27;)<br/>        v2, v3, _ = slit2v23(slitx, slity, lam)<br/>        v2 /= 3600<br/>        v3 /= 3600<br/>&gt;       assert_allclose(v2, ins_tab[&#x27;xV2V3&#x27;])<br/><span class="error">E       AssertionError: </span><br/><span class="error">E       Not equal to tolerance rtol=1e-07, atol=0</span><br/><span class="error">E       </span><br/><span class="error">E       Mismatched elements: 5 / 5 (100%)</span><br/><span class="error">E       Max absolute difference: 5.70063713e-05</span><br/><span class="error">E       Max relative difference: 0.00054809</span><br/><span class="error">E        x: array([0.103952, 0.10393 , 0.103909, 0.103887, 0.103865])</span><br/><span class="error">E        y: Column([0.104009, 0.103987, 0.103965, 0.103944, 0.103922])</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py:577: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:08,940 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:09,090 - stpipe - INFO - gwa_ytilt not applied
2022-07-07 07:45:09,106 - stpipe - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
2022-07-07 07:45:09,273 - stpipe - INFO - There are 0 open slits in quadrant 1
2022-07-07 07:45:09,273 - stpipe - INFO - There are 0 open slits in quadrant 2
2022-07-07 07:45:09,273 - stpipe - INFO - There are 1 open slits in quadrant 3
2022-07-07 07:45:09,287 - stpipe - INFO - There are 0 open slits in quadrant 4
2022-07-07 07:45:09,287 - stpipe - INFO - There are 0 open slits in quadrant 5
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:45:09,983 - stpipe - INFO - gwa_ytilt not applied
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 1 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 1 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 5
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied<br/></div></td></tr></tbody>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_ifu_grating</td>
          <td class="col-duration">8.41</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">wcs_ifu_grating = &lt;function wcs_ifu_grating.&lt;locals&gt;._create_image_model at 0x7f67ef6f6dd0&gt;<br/><br/>    def test_functional_ifu_grating(wcs_ifu_grating):<br/>        &quot;&quot;&quot;Compare Nirspec instrument model with IDT model for IFU grating.&quot;&quot;&quot;<br/>    <br/>        # setup test<br/>        model_file = &#x27;ifu_grating_functional_ESA_v1_20180619.txt&#x27;<br/>        im, refs = wcs_ifu_grating(&#x27;G395H&#x27;, &#x27;F290LP&#x27;, gwa_xtil=0.35986012, gwa_ytil=0.13448857)<br/>    <br/>        slit_wcs = nirspec.nrs_wcs_set_input(im, 0)  # use slice 0<br/>        ins_file = get_file_path(model_file)<br/>        ins_tab = table.Table.read(ins_file, format=&#x27;ascii&#x27;)<br/>        slitx = [0] * 5<br/>        slity = [-.5, -.25, 0, .25, .5]<br/>        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6<br/>        order, wrange = nirspec.get_spectral_order_wrange(im, refs[&#x27;wavelengthrange&#x27;])<br/>        im.meta.wcsinfo.sporder = order<br/>        im.meta.wcsinfo.waverange_start = wrange[0]<br/>        im.meta.wcsinfo.waverange_end = wrange[1]<br/>    <br/>        # Slit to MSA entrance<br/>        # This includes the Slicer transform and the IFUFORE transform<br/>        slit2msa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;msa_frame&#x27;)<br/>        msax, msay, _ = slit2msa(slitx, slity, lam)<br/>        assert_allclose(slitx, ins_tab[&#x27;xslitpos&#x27;])<br/>        assert_allclose(slity, ins_tab[&#x27;yslitpos&#x27;])<br/>        assert_allclose(msax + 0.0073, ins_tab[&#x27;xmsapos&#x27;], rtol=1e-2)  # expected offset<br/>        assert_allclose(msay + 0.0085, ins_tab[&#x27;ymaspos&#x27;], rtol=1e-2)  # expected offset<br/>    <br/>        # Slicer<br/>        slit2slicer = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;slicer&#x27;)<br/>        x_slicer, y_slicer, _ = slit2slicer(slitx, slity, lam)<br/>    <br/>        # MSA exit<br/>        # Applies the IFUPOST transform to coordinates at the Slicer<br/>        with datamodels.IFUPostModel(refs[&#x27;ifupost&#x27;]) as ifupost:<br/>            ifupost_transform = nirspec._create_ifupost_transform(ifupost.slice_0)<br/>        x_msa_exit, y_msa_exit = ifupost_transform(x_slicer, y_slicer, lam)<br/>        assert_allclose(x_msa_exit, ins_tab[&#x27;xmsapos&#x27;])<br/>        assert_allclose(y_msa_exit, ins_tab[&#x27;ymaspos&#x27;])<br/>    <br/>        # Computations are done using the exact form of the equations in the reports<br/>        # Part I of the Forward IFU-POST transform - the linear transform<br/>        xc_out = 0.0487158154447<br/>        yc_out = 0.00856211956976<br/>        xc_in = 0.000355277216<br/>        yc_in = -3.0089012e-05<br/>        theta = np.deg2rad(-0.129043957046)<br/>        factor_x = 0.100989874454<br/>        factor_y = 0.100405184145<br/>    <br/>        # Slicer coordinates<br/>        xS = 0.000399999989895<br/>        yS = -0.00600000005215<br/>    <br/>        x = xc_out + factor_x * (+cos(theta) * (xS - xc_in) + sin(theta) * (yS - yc_in))<br/>        y = yc_out + factor_y * (-sin(theta) * (xS - xc_in) + cos(theta) * (yS - yc_in))<br/>    <br/>        # Forward IFU-POST II part - non-linear transform<br/>        lam = 2.9e-6<br/>        coef_names = [f&#x27;c{x}_{y}&#x27; for x in range(6) for y in range(6) if x + y &lt;= 5]<br/>        y_forw = [-82.3492267824, 29234.6982762, -540260.780853, 771881.305018,<br/>                  -2563462.26848, 29914272.1164, 4513.04082605, -2212869.44311,<br/>                  32875633.0303, -29923698.5288, 27293902.5636, -39820.4434726,<br/>                  62431493.9962, -667197265.033, 297253538.182, -1838860.86305,<br/>                  -777169857.2, 4514693865.7, 42790637.764, 3596423850.94,<br/>                  -260274017.448]<br/>        y_forw_dist = [188531839.97, -43453434864.0, 70807756765.8,<br/>                       -308272809909.0, 159768473071.0, 9712633344590.0,<br/>                       -11762923852.9, 3545938873190.0, -4198643655420.0,<br/>                       12545642983100.0, -11707051591600.0, 173091230285.0,<br/>                       -108534069056000.0, 82893348097600.0, -124708740989000.0,<br/>                       2774389757990.0, 1476779720300000.0, -545358301961000.0,<br/>                       -93101557994100.0, -7536890639430000.0, 646310545048000.0]<br/>        y_coeff = {}<br/>        for i, coef in enumerate(coef_names):<br/>            y_coeff[coef] = y_forw[i] + lam * y_forw_dist[i]<br/>        poly2d = astmodels.Polynomial2D(5, **y_coeff)<br/>        ifupost_y = poly2d(x, y)<br/>        assert_allclose(ifupost_y, ins_tab[&#x27;ymaspos&#x27;][0])<br/>        assert_allclose(ifupost_y, y_msa_exit[0])<br/>    <br/>        # reset &#x27;lam&#x27;<br/>        lam = np.array([2.9, 3.39, 3.88, 4.37, 5]) * 10**-6<br/>    <br/>        # Coordinates at Collimator exit<br/>        # Applies the Collimator forward transform to coordinates at the MSA exit<br/>        with datamodels.open(refs[&#x27;collimator&#x27;]) as col:<br/>            colx, coly = col.model.inverse(x_msa_exit, y_msa_exit)<br/>        assert_allclose(colx, ins_tab[&#x27;xcoll&#x27;])<br/>        assert_allclose(coly, ins_tab[&#x27;ycoll&#x27;])<br/>    <br/>        # After applying directional cosines<br/>        dircos = trmodels.Unitless2DirCos()<br/>        xcolDircosi, ycolDircosi, z = dircos(colx, coly)<br/>        assert_allclose(xcolDircosi, ins_tab[&#x27;xcolDirCosi&#x27;])<br/>        assert_allclose(ycolDircosi, ins_tab[&#x27;ycolDirCosi&#x27;])<br/>    <br/>        # Slit to GWA entrance<br/>        # applies the Collimator forward, Unitless to Directional and 3D Rotation to MSA exit coordinates<br/>        with datamodels.DisperserModel(refs[&#x27;disperser&#x27;]) as disp:<br/>            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,<br/>                                             im.meta.instrument.gwa_ytilt)<br/>        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)<br/>        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(x_msa_exit, y_msa_exit)<br/>        assert_allclose(x_gwa_in, ins_tab[&#x27;xdispIn&#x27;])<br/>    <br/>        # Slit to GWA out<br/>        # Runs slit--&gt; slicer --&gt; msa_exit --&gt; collimator --&gt; dircos --&gt; rotation --&gt; angle_from_grating equation<br/>        slit2gwa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;gwa&#x27;)<br/>        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)<br/>        assert_allclose(x_gwa_out, ins_tab[&#x27;xdispLaw&#x27;])<br/>        assert_allclose(y_gwa_out, ins_tab[&#x27;ydispLaw&#x27;])<br/>    <br/>        # CAMERA entrance (assuming direction is from sky to detector)<br/>        angles = [disperser[&#x27;theta_x&#x27;], disperser[&#x27;theta_y&#x27;],<br/>                  disperser[&#x27;theta_z&#x27;], disperser[&#x27;tilt_y&#x27;]]<br/>        rotation = trmodels.Rotation3DToGWA(angles, axes_order=&quot;xyzy&quot;, name=&#x27;rotation&#x27;)<br/>        dircos2unitless = trmodels.DirCos2Unitless()<br/>        gwa2cam = rotation.inverse | dircos2unitless<br/>        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out, z_gwa_out)<br/>        assert_allclose(x_camera_entrance, ins_tab[&#x27;xcamCosi&#x27;])<br/>        assert_allclose(y_camera_entrance, ins_tab[&#x27;ycamCosi&#x27;])<br/>    <br/>        # at FPA<br/>        with datamodels.CameraModel(refs[&#x27;camera&#x27;]) as camera:<br/>            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)<br/>        assert_allclose(x_fpa, ins_tab[&#x27;xfpapos&#x27;])<br/>        assert_allclose(y_fpa, ins_tab[&#x27;yfpapos&#x27;])<br/>    <br/>        # at SCA<br/>        slit2sca = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;sca&#x27;)<br/>        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)<br/>    <br/>        # At NRS2<br/>        with datamodels.FPAModel(refs[&#x27;fpa&#x27;]) as fpa:<br/>            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)<br/>        assert_allclose(x_sca_nrs1[:3] + 1, ins_tab[&#x27;i&#x27;][:3])<br/>        assert_allclose(y_sca_nrs1[:3] + 1, ins_tab[&#x27;j&#x27;][:3])<br/>        assert_allclose(x_sca_nrs2[3:] + 1, ins_tab[&#x27;i&#x27;][3:])<br/>        assert_allclose(y_sca_nrs2[3:] + 1, ins_tab[&#x27;j&#x27;][3:])<br/>    <br/>        # at oteip<br/>        # Goes through slicer, ifufore, and fore transforms<br/>        slit2oteip = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;oteip&#x27;)<br/>        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)<br/>        assert_allclose(x_oteip, ins_tab[&#x27;xOTEIP&#x27;])<br/>        assert_allclose(y_oteip, ins_tab[&#x27;yOTEIP&#x27;])<br/>    <br/>        # at v2, v3 [in arcsec]<br/>        slit2v23 = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;v2v3&#x27;)<br/>        v2, v3, _ = slit2v23(slitx, slity, lam)<br/>        v2 /= 3600<br/>        v3 /= 3600<br/>&gt;       assert_allclose(v2, ins_tab[&#x27;xV2V3&#x27;])<br/><span class="error">E       AssertionError: </span><br/><span class="error">E       Not equal to tolerance rtol=1e-07, atol=0</span><br/><span class="error">E       </span><br/><span class="error">E       Mismatched elements: 5 / 5 (100%)</span><br/><span class="error">E       Max absolute difference: 3.18000578e-05</span><br/><span class="error">E       Max relative difference: 0.00038283</span><br/><span class="error">E        x: array([0.083622, 0.083476, 0.083329, 0.083181, 0.083034])</span><br/><span class="error">E        y: Column([0.083653, 0.083507, 0.08336 , 0.083213, 0.083065])</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py:746: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:10,190 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:10,357 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:10,358 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:10,358 - stpipe - INFO - theta_y correction: -0.041645342310905185 deg
2022-07-07 07:45:10,359 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:14,136 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
2022-07-07 07:45:18,399 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:18,399 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:18,400 - stpipe - INFO - theta_y correction: -0.041645342310905185 deg
2022-07-07 07:45:18,401 - stpipe - INFO - theta_x correction: 0.0 deg
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0035.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.041645342310905185 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg<br/></div></td></tr></tbody>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_functional_ifu_prism</td>
          <td class="col-duration">9.05</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">def test_functional_ifu_prism():<br/>        &quot;&quot;&quot;Compare Nirspec instrument model with IDT model for IFU prism.&quot;&quot;&quot;<br/>        # setup test<br/>        model_file = &#x27;ifu_prism_functional_ESA_v1_20180619.txt&#x27;<br/>        hdu1 = create_nirspec_ifu_file(grating=&#x27;PRISM&#x27;, filter=&#x27;CLEAR&#x27;,<br/>                                       gwa_xtil=0.35986012, gwa_ytil=0.13448857,<br/>                                       gwa_tilt=37.1)<br/>        im = datamodels.ImageModel(hdu1)<br/>        refs = create_reference_files(im)<br/>        pipeline = nirspec.create_pipeline(im, refs, slit_y_range=[-0.55, 0.55])<br/>        w = wcs.WCS(pipeline)<br/>        im.meta.wcs = w<br/>        slit_wcs = nirspec.nrs_wcs_set_input(im, 0)  # use slice 0<br/>        ins_file = get_file_path(model_file)<br/>        ins_tab = table.Table.read(ins_file, format=&#x27;ascii&#x27;)<br/>        slitx = [0] * 5<br/>        slity = [-.5, -.25, 0, .25, .5]<br/>        lam = np.array([.7e-7, 1e-6, 2e-6, 3e-6, 5e-6])<br/>        order, wrange = nirspec.get_spectral_order_wrange(im, refs[&#x27;wavelengthrange&#x27;])<br/>        im.meta.wcsinfo.sporder = order<br/>        im.meta.wcsinfo.waverange_start = wrange[0]<br/>        im.meta.wcsinfo.waverange_end = wrange[1]<br/>    <br/>        # Slit to MSA entrance<br/>        # This includes the Slicer transform and the IFUFORE transform<br/>        slit2msa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;msa_frame&#x27;)<br/>        msax, msay, _ = slit2msa(slitx, slity, lam)<br/>        assert_allclose(slitx, ins_tab[&#x27;xslitpos&#x27;])<br/>        assert_allclose(slity, ins_tab[&#x27;yslitpos&#x27;])<br/>        assert_allclose(msax + 0.0073, ins_tab[&#x27;xmsapos&#x27;], rtol=1e-2)  # expected offset<br/>        assert_allclose(msay + 0.0085, ins_tab[&#x27;ymaspos&#x27;], rtol=1e-2)  # expected offset<br/>    <br/>        # Slicer<br/>        slit2slicer = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;slicer&#x27;)<br/>        x_slicer, y_slicer, _ = slit2slicer(slitx, slity, lam)<br/>    <br/>        # MSA exit<br/>        # Applies the IFUPOST transform to coordinates at the Slicer<br/>        with datamodels.IFUPostModel(refs[&#x27;ifupost&#x27;]) as ifupost:<br/>            ifupost_transform = nirspec._create_ifupost_transform(ifupost.slice_0)<br/>        x_msa_exit, y_msa_exit = ifupost_transform(x_slicer, y_slicer, lam)<br/>        assert_allclose(x_msa_exit, ins_tab[&#x27;xmsapos&#x27;])<br/>        assert_allclose(y_msa_exit, ins_tab[&#x27;ymaspos&#x27;])<br/>    <br/>        # Coordinates at Collimator exit<br/>        # Applies the Collimator forward transform to coordinates at the MSA exit<br/>        with datamodels.open(refs[&#x27;collimator&#x27;]) as col:<br/>            colx, coly = col.model.inverse(x_msa_exit, y_msa_exit)<br/>        assert_allclose(colx, ins_tab[&#x27;xcoll&#x27;])<br/>        assert_allclose(coly, ins_tab[&#x27;ycoll&#x27;])<br/>    <br/>        # After applying directional cosines<br/>        dircos = trmodels.Unitless2DirCos()<br/>        xcolDircosi, ycolDircosi, z = dircos(colx, coly)<br/>        assert_allclose(xcolDircosi, ins_tab[&#x27;xcolDirCosi&#x27;])<br/>        assert_allclose(ycolDircosi, ins_tab[&#x27;ycolDirCosi&#x27;])<br/>    <br/>        # Slit to GWA entrance<br/>        # applies the Collimator forward, Unitless to Directional and 3D Rotation to MSA exit coordinates<br/>        with datamodels.DisperserModel(refs[&#x27;disperser&#x27;]) as disp:<br/>            disperser = nirspec.correct_tilt(disp, im.meta.instrument.gwa_xtilt,<br/>                                             im.meta.instrument.gwa_ytilt)<br/>        collimator2gwa = nirspec.collimator_to_gwa(refs, disperser)<br/>        x_gwa_in, y_gwa_in, z_gwa_in = collimator2gwa(x_msa_exit, y_msa_exit)<br/>        assert_allclose(x_gwa_in, ins_tab[&#x27;xdispIn&#x27;])<br/>    <br/>        # Slit to GWA out<br/>        # Runs slit--&gt; slicer --&gt; msa_exit --&gt; collimator --&gt; dircos --&gt; rotation --&gt; angle_from_grating equation<br/>        slit2gwa = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;gwa&#x27;)<br/>        x_gwa_out, y_gwa_out, z_gwa_out = slit2gwa(slitx, slity, lam)<br/>        assert_allclose(x_gwa_out, ins_tab[&#x27;xdispLaw&#x27;])<br/>        assert_allclose(y_gwa_out, ins_tab[&#x27;ydispLaw&#x27;])<br/>    <br/>        # CAMERA entrance (assuming direction is from sky to detector)<br/>        angles = [disperser[&#x27;theta_x&#x27;], disperser[&#x27;theta_y&#x27;],<br/>                  disperser[&#x27;theta_z&#x27;], disperser[&#x27;tilt_y&#x27;]]<br/>        rotation = trmodels.Rotation3DToGWA(angles, axes_order=&quot;xyzy&quot;, name=&#x27;rotation&#x27;)<br/>        dircos2unitless = trmodels.DirCos2Unitless()<br/>        gwa2cam = rotation.inverse | dircos2unitless<br/>        x_camera_entrance, y_camera_entrance = gwa2cam(x_gwa_out, y_gwa_out, z_gwa_out)<br/>        assert_allclose(x_camera_entrance, ins_tab[&#x27;xcamCosi&#x27;])<br/>        assert_allclose(y_camera_entrance, ins_tab[&#x27;ycamCosi&#x27;])<br/>    <br/>        # at FPA<br/>        with datamodels.CameraModel(refs[&#x27;camera&#x27;]) as camera:<br/>            x_fpa, y_fpa = camera.model.inverse(x_camera_entrance, y_camera_entrance)<br/>        assert_allclose(x_fpa, ins_tab[&#x27;xfpapos&#x27;])<br/>        assert_allclose(y_fpa, ins_tab[&#x27;yfpapos&#x27;])<br/>    <br/>        # at SCA<br/>        slit2sca = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;sca&#x27;)<br/>        x_sca_nrs1, y_sca_nrs1 = slit2sca(slitx, slity, lam)<br/>    <br/>        # At NRS2<br/>        with datamodels.FPAModel(refs[&#x27;fpa&#x27;]) as fpa:<br/>            x_sca_nrs2, y_sca_nrs2 = fpa.nrs2_model.inverse(x_fpa, y_fpa)<br/>        assert_allclose(x_sca_nrs1 + 1, ins_tab[&#x27;i&#x27;])<br/>        assert_allclose(y_sca_nrs1 + 1, ins_tab[&#x27;j&#x27;])<br/>    <br/>        # at oteip<br/>        # Goes through slicer, ifufore, and fore transforms<br/>        slit2oteip = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;oteip&#x27;)<br/>        x_oteip, y_oteip, _ = slit2oteip(slitx, slity, lam)<br/>        assert_allclose(x_oteip, ins_tab[&#x27;xOTEIP&#x27;])<br/>        assert_allclose(y_oteip, ins_tab[&#x27;yOTEIP&#x27;])<br/>    <br/>        # at v2, v3 [in arcsec]<br/>        slit2v23 = slit_wcs.get_transform(&#x27;slit_frame&#x27;, &#x27;v2v3&#x27;)<br/>        v2, v3, _ = slit2v23(slitx, slity, lam)<br/>        v2 /= 3600<br/>        v3 /= 3600<br/>&gt;       assert_allclose(v2, ins_tab[&#x27;xV2V3&#x27;])<br/><span class="error">E       AssertionError: </span><br/><span class="error">E       Not equal to tolerance rtol=1e-07, atol=0</span><br/><span class="error">E       </span><br/><span class="error">E       Mismatched elements: 5 / 5 (100%)</span><br/><span class="error">E       Max absolute difference: 3.18000578e-05</span><br/><span class="error">E       Max relative difference: 0.00038283</span><br/><span class="error">E        x: array([0.083627, 0.08348 , 0.083332, 0.083184, 0.083034])</span><br/><span class="error">E        y: Column([0.083658, 0.083511, 0.083363, 0.083215, 0.083065])</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py:861: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:18,624 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:18,780 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:18,780 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:18,780 - stpipe - INFO - theta_y correction: -0.02747388780339539 deg
2022-07-07 07:45:18,781 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:23,133 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0034.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0028.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
2022-07-07 07:45:27,486 - stpipe - INFO - gwa_ytilt is 0.13448857 deg
2022-07-07 07:45:27,486 - stpipe - INFO - gwa_xtilt is 0.35986012 deg
2022-07-07 07:45:27,486 - stpipe - INFO - theta_y correction: -0.02747388780339539 deg
2022-07-07 07:45:27,487 - stpipe - INFO - theta_x correction: 0.0 deg
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0034.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0028.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0034.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0028.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.13448857 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35986012 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.02747388780339539 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg<br/></div></td></tr></tbody>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_in_slice[1]</td>
          <td class="col-duration">89.89</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">slice = 1<br/>wcs_ifu_grating = &lt;function wcs_ifu_grating.&lt;locals&gt;._create_image_model at 0x7f67ef6f7d90&gt;<br/>ifu_world_coord = (array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]))<br/><br/>    @pytest.mark.parametrize(&quot;slice&quot;, [1, 17])<br/>    def test_in_slice(slice, wcs_ifu_grating, ifu_world_coord):<br/>        &quot;&quot;&quot; Test that the number of valid outputs from a slice forward transform<br/>        equals the valid pixels within the slice from the slice backward transform.<br/>        &quot;&quot;&quot;<br/>        ra_all, dec_all, lam_all = ifu_world_coord<br/>        im, refs = wcs_ifu_grating(&quot;G140H&quot;, &quot;F100LP&quot;)<br/>        slice_wcs = nirspec.nrs_wcs_set_input(im, slice)<br/>        slicer2world = slice_wcs.get_transform(&#x27;slicer&#x27;,&#x27;world&#x27;)<br/>        detector2slicer = slice_wcs.get_transform(&#x27;detector&#x27;,&#x27;slicer&#x27;)<br/>        x, y = wcstools.grid_from_bounding_box(slice_wcs.bounding_box)<br/>        onslice_ind = in_ifu_slice(slice_wcs, ra_all, dec_all, lam_all)<br/>        slx, sly, sllam = slicer2world.inverse(ra_all, dec_all, lam_all)<br/>        xinv,yinv = detector2slicer.inverse(slx[onslice_ind], sly[onslice_ind],<br/>                                            sllam[onslice_ind])<br/>    <br/>        r, d, _ = slice_wcs(x, y)<br/>&gt;       assert r[~np.isnan(r)].size == xinv.size<br/><span class="error">E       assert 56254 == 111624</span><br/><span class="error">E        +  where 56254 = array([164.9762088 , 164.97620881, 164.97620882, ..., 164.9763222 ,\n       164.97632226, 164.97632232]).size</span><br/><span class="error">E        +  and   111624 = array([1779.45768302, 1780.4572664 , 1781.45684965, ...,  176.54999383,\n        177.54919436,  178.54839552]).size</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py:990: AssertionError<br/> -----------------------------Captured stderr setup------------------------------ <br/>2022-07-07 07:45:34,328 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:34,496 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:45:34,496 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:45:34,496 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:45:34,497 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:38,424 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
<br/> -------------------------------Captured log setup------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:46:50,743 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:46:50,913 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:46:50,914 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:46:50,914 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:46:50,915 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:46:54,863 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}<br/></div></td></tr></tbody>
      <tbody class="failed results-table-row">
        <tr>
          <td class="col-result">Failed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_in_slice[17]</td>
          <td class="col-duration">90.52</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">slice = 17<br/>wcs_ifu_grating = &lt;function wcs_ifu_grating.&lt;locals&gt;._create_image_model at 0x7f67ee9bb520&gt;<br/>ifu_world_coord = (array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]), array([nan, nan, nan, ..., nan, nan, nan]))<br/><br/>    @pytest.mark.parametrize(&quot;slice&quot;, [1, 17])<br/>    def test_in_slice(slice, wcs_ifu_grating, ifu_world_coord):<br/>        &quot;&quot;&quot; Test that the number of valid outputs from a slice forward transform<br/>        equals the valid pixels within the slice from the slice backward transform.<br/>        &quot;&quot;&quot;<br/>        ra_all, dec_all, lam_all = ifu_world_coord<br/>        im, refs = wcs_ifu_grating(&quot;G140H&quot;, &quot;F100LP&quot;)<br/>        slice_wcs = nirspec.nrs_wcs_set_input(im, slice)<br/>        slicer2world = slice_wcs.get_transform(&#x27;slicer&#x27;,&#x27;world&#x27;)<br/>        detector2slicer = slice_wcs.get_transform(&#x27;detector&#x27;,&#x27;slicer&#x27;)<br/>        x, y = wcstools.grid_from_bounding_box(slice_wcs.bounding_box)<br/>        onslice_ind = in_ifu_slice(slice_wcs, ra_all, dec_all, lam_all)<br/>        slx, sly, sllam = slicer2world.inverse(ra_all, dec_all, lam_all)<br/>        xinv,yinv = detector2slicer.inverse(slx[onslice_ind], sly[onslice_ind],<br/>                                            sllam[onslice_ind])<br/>    <br/>        r, d, _ = slice_wcs(x, y)<br/>&gt;       assert r[~np.isnan(r)].size == xinv.size<br/><span class="error">E       assert 54778 == 108931</span><br/><span class="error">E        +  where 54778 = array([164.97659644, 164.97659645, 164.97659647, ..., 164.97670979,\n       164.97670986, 164.97670993]).size</span><br/><span class="error">E        +  and   108931 = array([1853.71953962, 1854.71905796, 1855.7185762 , ...,  207.55513671,\n        208.55424944,  209.55336255]).size</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py:990: AssertionError<br/> -----------------------------Captured stderr setup------------------------------ <br/>2022-07-07 07:47:04,242 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:47:04,398 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:47:04,398 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:47:04,399 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:47:04,400 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:47:08,273 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
<br/> -------------------------------Captured log setup------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:48:20,280 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:48:20,461 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:48:20,462 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:48:20,462 - stpipe - INFO - theta_y correction: 0.038433274611118624 deg
2022-07-07 07:48:20,463 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:48:24,880 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.038433274611118624 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0033.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}<br/></div></td></tr></tbody>
      <tbody class="xfailed results-table-row">
        <tr>
          <td class="col-result">XFailed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_traverse_wfss_grisms</td>
          <td class="col-duration">0.30</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">@pytest.mark.xfail(reason=&quot;Fails due to V2 NIRCam specwcs ref files delivered to CRDS&quot;)<br/>    def test_traverse_wfss_grisms():<br/>        &quot;&quot;&quot;Check the dispersion polynomials for each grism.&quot;&quot;&quot;<br/>        for pupil in [&#x27;GRISMR&#x27;, &#x27;GRISMC&#x27;]:<br/>&gt;           traverse_wfss_trace(pupil)<br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py:197: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/><br/>pupil = &#x27;GRISMR&#x27;<br/><br/>    def traverse_wfss_trace(pupil):<br/>        &quot;&quot;&quot;Make sure that the WFSS dispersion polynomials are reversable.&quot;&quot;&quot;<br/>        wcsobj = create_wfss_wcs(pupil)<br/>        detector_to_grism = wcsobj.get_transform(&#x27;detector&#x27;, &#x27;grism_detector&#x27;)<br/>        grism_to_detector = wcsobj.get_transform(&#x27;grism_detector&#x27;, &#x27;detector&#x27;)<br/>    <br/>        # check the round trip, grism pixel 100,100, source at 110,110,order 1<br/>        xgrism, ygrism, xsource, ysource, orderin = (100, 100, 110, 110, 1)<br/>        x0, y0, lam, order = grism_to_detector(xgrism, ygrism, xsource, ysource, orderin)<br/>        x, y, xdet, ydet, orderdet = detector_to_grism(x0, y0, lam, order)<br/>    <br/>        assert x0 == xsource<br/>&gt;       assert y0 == ysource<br/><span class="error">E       assert 132.82171969999987 == 110</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py:186: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:48,607 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0059.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0003.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0059.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0003.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0<br/></div></td></tr></tbody>
      <tbody class="xfailed results-table-row">
        <tr>
          <td class="col-result">XFailed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_traverse_tso_grism</td>
          <td class="col-duration">0.32</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">@pytest.mark.xfail(reason=&quot;Fails due to V2 NIRCam specwcs ref files delivered to CRDS&quot;)<br/>    def test_traverse_tso_grism():<br/>        &quot;&quot;&quot;Make sure that the TSO dispersion polynomials are reversable.&quot;&quot;&quot;<br/>        wcsobj = create_tso_wcs()<br/>        detector_to_grism = wcsobj.get_transform(&#x27;direct_image&#x27;, &#x27;grism_detector&#x27;)<br/>        grism_to_detector = wcsobj.get_transform(&#x27;grism_detector&#x27;, &#x27;direct_image&#x27;)<br/>    <br/>        # TSGRISM always has same source locations<br/>        # takes x,y,order -&gt; ra, dec, wave, order<br/>        xin, yin, order = (100, 100, 1)<br/>    <br/>        x0, y0, lam, orderdet = grism_to_detector(xin, yin, order)<br/>        x, y, orderdet = detector_to_grism(x0, y0, lam, order)<br/>    <br/>        assert x0 == wcs_tso_kw[&#x27;xref_sci&#x27;]<br/>&gt;       assert y0 == wcs_tso_kw[&#x27;yref_sci&#x27;]<br/><span class="error">E       assert 56.393671399999874 == 35.0</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py:215: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:48,953 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0043.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0043.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0<br/></div></td></tr></tbody>
      <tbody class="xfailed results-table-row">
        <tr>
          <td class="col-result">XFailed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_imaging_distortion</td>
          <td class="col-duration">0.22</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">@pytest.mark.xfail<br/>    def test_imaging_distortion():<br/>        &quot;&quot;&quot;Verify that the distortion correction round trips.&quot;&quot;&quot;<br/>        wcsobj = create_imaging_wcs()<br/>        sky_to_detector = wcsobj.get_transform(&#x27;world&#x27;, &#x27;detector&#x27;)<br/>        detector_to_sky = wcsobj.get_transform(&#x27;detector&#x27;, &#x27;world&#x27;)<br/>    <br/>        # we&#x27;ll use the crpix as the simplest reference point<br/>        ra = wcs_wfss_kw[&#x27;crval1&#x27;]<br/>        dec = wcs_wfss_kw[&#x27;crval2&#x27;]<br/>    <br/>        x, y = sky_to_detector(ra, dec)<br/>        raout, decout = detector_to_sky(x, y)<br/>    <br/>&gt;       assert_allclose(x, wcs_wfss_kw[&#x27;crpix1&#x27;])<br/><span class="error">E       AssertionError: </span><br/><span class="error">E       Not equal to tolerance rtol=1e-07, atol=0</span><br/><span class="error">E       </span><br/><span class="error">E       Mismatched elements: 1 / 1 (100%)</span><br/><span class="error">E       Max absolute difference: 2.02829248</span><br/><span class="error">E       Max relative difference: 0.00197979</span><br/><span class="error">E        x: array(1022.471708)</span><br/><span class="error">E        y: array(1024.5)</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py:242: AssertionError<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:49,610 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0<br/></div></td></tr></tbody>
      <tbody class="xfailed results-table-row">
        <tr>
          <td class="col-result">XFailed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_imaging_distortion</td>
          <td class="col-duration">0.19</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log">@pytest.mark.xfail<br/>    def test_imaging_distortion():<br/>        &quot;&quot;&quot;Verify that the distortion correction round trips.&quot;&quot;&quot;<br/>        wcsobj = create_imaging_wcs(&#x27;F200W&#x27;)<br/>        sky_to_detector = wcsobj.get_transform(&#x27;world&#x27;, &#x27;detector&#x27;)<br/>        detector_to_sky = wcsobj.get_transform(&#x27;detector&#x27;, &#x27;world&#x27;)<br/>    <br/>        # we&#x27;ll use the crpix as the simplest reference point<br/>        ra = wcs_kw[&#x27;crval1&#x27;]<br/>        dec = wcs_kw[&#x27;crval2&#x27;]<br/>    <br/>        x, y = sky_to_detector(ra, dec)<br/>        raout, decout = detector_to_sky(x, y)<br/>    <br/>&gt;       assert_allclose(x, wcs_kw[&#x27;crpix1&#x27;])<br/><span class="error">E       AssertionError: </span><br/><span class="error">E       Not equal to tolerance rtol=1e-07, atol=0</span><br/><span class="error">E       </span><br/><span class="error">E       Mismatched elements: 1 / 1 (100%)</span><br/><span class="error">E       Max absolute difference: 3.06808428</span><br/><span class="error">E       Max relative difference: 0.00299471</span><br/><span class="error">E        x: array(1021.431916)</span><br/><span class="error">E        y: array(1024.5)</span><br/><br/>../../../miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py:173: AssertionError<br/> ------------------------------Captured stdout call------------------------------ <br/>distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs N/A
regions N/A
wavelengthrange N/A
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:52,830 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_12A</td>
          <td class="col-duration">4.25</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:26,895 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:29,792 - stpipe - INFO - Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0031.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0024.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0027.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0031.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0024.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0027.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0031.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0024.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0027.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_12B</td>
          <td class="col-duration">3.22</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:30,260 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:32,777 - stpipe - INFO - Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0030.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0021.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0026.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0030.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0021.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0026.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0030.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0021.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0026.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_12C</td>
          <td class="col-duration">3.66</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:33,482 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:36,663 - stpipe - INFO - Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0029.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0022.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0028.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0029.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0022.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0028.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0029.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0022.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0028.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_34A</td>
          <td class="col-duration">3.06</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:37,149 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:39,588 - stpipe - INFO - Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0034.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0020.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0029.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0034.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0020.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0029.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0034.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0020.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0029.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_34B</td>
          <td class="col-duration">2.34</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:40,216 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:42,061 - stpipe - INFO - Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0033.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0023.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0030.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0033.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0023.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0030.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0033.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0023.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0030.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_miri.py::test_miri_mrs_34C</td>
          <td class="col-duration">2.25</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:42,561 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:44,468 - stpipe - INFO - Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0032.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0019.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0025.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0032.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0019.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0025.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:miri.py:45 Created a MIRI mir_mrs pipeline with references {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_distortion_0032.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_specwcs_0019.asdf&#x27;, &#x27;regions&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_regions_0025.asdf&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_miri_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_nircam_wfss_available_frames</td>
          <td class="col-duration">1.26</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:44,819 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:45,679 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0059.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0003.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0059.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0003.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0049.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0003.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0049.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0003.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_nircam_tso_available_frames</td>
          <td class="col-duration">0.36</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:46,084 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0043.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_specwcs_0043.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F277W-xref_sci]</td>
          <td class="col-duration">0.24</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:46,452 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F277W-yref_sci]</td>
          <td class="col-duration">0.24</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:46,697 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F444W-xref_sci]</td>
          <td class="col-duration">0.24</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:46,939 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F444W-yref_sci]</td>
          <td class="col-duration">0.24</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:47,185 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F322W2-xref_sci]</td>
          <td class="col-duration">0.27</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:47,428 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F322W2-yref_sci]</td>
          <td class="col-duration">0.37</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:47,707 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F356W-xref_sci]</td>
          <td class="col-duration">0.25</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:48,083 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_extract_tso_object_fails_without_xref_yref[F356W-yref_sci]</td>
          <td class="col-duration">0.25</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:48,341 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nircam.py::test_imaging_frames</td>
          <td class="col-duration">0.32</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:49,287 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0
DEBUG    stpipe:nircam.py:143 Offsets from filteroffset file are 0.0, 0.0<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_niriss_wfss_available_frames</td>
          <td class="col-duration">1.15</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stdout call------------------------------ <br/>distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs /grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf
regions N/A
wavelengthrange /grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs /grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf
regions N/A
wavelengthrange /grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:49,839 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:50,499 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_traverse_wfss_grisms</td>
          <td class="col-duration">0.74</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stdout call------------------------------ <br/>distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs /grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf
regions N/A
wavelengthrange /grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs /grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf
regions N/A
wavelengthrange /grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:50,994 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:51,360 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_filter_rotation</td>
          <td class="col-duration">0.89</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stdout call------------------------------ <br/>distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs /grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf
regions N/A
wavelengthrange /grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs /grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf
regions N/A
wavelengthrange /grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:51,737 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:52,261 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0012.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_specwcs_0014.asdf&#x27;, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_wavelengthrange_0002.asdf&#x27;, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_niriss.py::test_imaging_frames</td>
          <td class="col-duration">0.19</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stdout call------------------------------ <br/>distortion /grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf
filteroffset N/A
specwcs N/A
regions N/A
wavelengthrange N/A
camera N/A
collimator N/A
disperser N/A
fore N/A
fpa N/A
msa N/A
ote N/A
ifupost N/A
ifufore N/A
ifuslicer N/A
{&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
<br/> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:52,635 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe:niriss.py:46 reference files used in NIRISS WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_niriss_distortion_0010.asdf&#x27;, &#x27;filteroffset&#x27;: None, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_nirspec_imaging</td>
          <td class="col-duration">1.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:53,028 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:53,494 - stpipe - INFO - gwa_ytilt is None deg
2022-07-07 07:44:53,494 - stpipe - INFO - gwa_xtilt is None deg
2022-07-07 07:44:53,494 - stpipe - INFO - gwa_xtilt not applied
2022-07-07 07:44:53,494 - stpipe - INFO - gwa_ytilt not applied
2022-07-07 07:44:53,888 - stpipe - INFO - Created a NIRSPEC nrs_image pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0038.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is None deg
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1383 gwa_xtilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:1389 gwa_ytilt not applied
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_image pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0038.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_image pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0038.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_nirspec_ifu_against_esa</td>
          <td class="col-duration">7.92</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:44:54,146 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:44:54,307 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:44:54,307 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:44:54,308 - stpipe - INFO - theta_y correction: 3.965144262312808e-13 deg
2022-07-07 07:44:54,309 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:44:54,323 - stpipe - INFO - Combination N/A_G140M missing in wavelengthrange file, setting order to -1 and range to [9.7e-07, 1.89e-06].
2022-07-07 07:44:57,886 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 3.965144262312808e-13 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 3.965144262312808e-13 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:777 Combination N/A_G140M missing in wavelengthrange file, setting order to -1 and range to [9.7e-07, 1.89e-06].
INFO     stpipe:nirspec.py:777 Combination N/A_G140M missing in wavelengthrange file, setting order to -1 and range to [9.7e-07, 1.89e-06].
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_nirspec_fs_esa</td>
          <td class="col-duration">1.38</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:01,977 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:02,147 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:02,148 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:02,148 - stpipe - INFO - theta_y correction: 0.0002496099796717191 deg
2022-07-07 07:45:02,149 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:02,415 - stpipe - INFO - Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:02,415 - stpipe - INFO - Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
2022-07-07 07:45:02,415 - stpipe - INFO - Computing WCS for 4 open slitlets
2022-07-07 07:45:02,452 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:02,453 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:02,453 - stpipe - INFO - theta_y correction: 0.0002496099796717191 deg
2022-07-07 07:45:02,454 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:02,469 - stpipe - INFO - SPORDER= -1, wrange=[9.7e-07, 1.89e-06]
2022-07-07 07:45:02,632 - stpipe - INFO - There are 0 open slits in quadrant 1
2022-07-07 07:45:02,632 - stpipe - INFO - There are 0 open slits in quadrant 2
2022-07-07 07:45:02,632 - stpipe - INFO - There are 0 open slits in quadrant 3
2022-07-07 07:45:02,632 - stpipe - INFO - There are 0 open slits in quadrant 4
2022-07-07 07:45:02,632 - stpipe - INFO - There are 4 open slits in quadrant 5
2022-07-07 07:45:02,822 - stpipe - INFO - Created a NIRSPEC nrs_fixedslit pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.0002496099796717191 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.0002496099796717191 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
INFO     stpipe:nirspec.py:308 Computing WCS for 4 open slitlets
INFO     stpipe:nirspec.py:308 Computing WCS for 4 open slitlets
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.0002496099796717191 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.0002496099796717191 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[9.7e-07, 1.89e-06]
INFO     stpipe:nirspec.py:330 SPORDER= -1, wrange=[9.7e-07, 1.89e-06]
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 1
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 2
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 3
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 0 open slits in quadrant 4
INFO     stpipe:nirspec.py:1020 There are 4 open slits in quadrant 5
INFO     stpipe:nirspec.py:1020 There are 4 open slits in quadrant 5
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_fixedslit pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_fixedslit pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0023.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_correct_tilt</td>
          <td class="col-duration">0.03</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:03,352 - stpipe - INFO - gwa_ytilt is 0.1343827 deg
2022-07-07 07:45:03,352 - stpipe - INFO - gwa_xtilt is 0.35896975 deg
2022-07-07 07:45:03,352 - stpipe - INFO - theta_y correction: 0.0009610389392718667 deg
2022-07-07 07:45:03,353 - stpipe - INFO - theta_x correction: 0.0 deg
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1343827 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1343827 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35896975 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.35896975 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.0009610389392718667 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 0.0009610389392718667 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_normal</td>
          <td class="col-duration">0.06</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:03,418 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
<br/> -------------------------------Captured log call-------------------------------- <br/>DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (55, 12, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (55, 12, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_no_background</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:03,434 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 13 and dither_index = 1
2022-07-07 07:45:03,434 - stpipe - WARNING - For slitlet_id = 56, metadata_id = 13, and dither_index = 1
2022-07-07 07:45:03,434 - stpipe - WARNING - MSA configuration file has more than 1 shutter with primary source
<br/> -------------------------------Captured log call-------------------------------- <br/>DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 13   [(56, 13, 4, 251, 22, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;Y&#x27;), (56, 13, 4, 251, 23, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (56, 13, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (56, 13, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (56, 13, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 13   [(56, 13, 4, 251, 22, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;Y&#x27;), (56, 13, 4, 251, 23, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (56, 13, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (56, 13, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (56, 13, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 13 and dither_index = 1
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 13 and dither_index = 1
WARNING  stpipe:nirspec.py:667 For slitlet_id = 56, metadata_id = 13, and dither_index = 1
WARNING  stpipe:nirspec.py:667 For slitlet_id = 56, metadata_id = 13, and dither_index = 1
WARNING  stpipe:nirspec.py:669 MSA configuration file has more than 1 shutter with primary source
WARNING  stpipe:nirspec.py:669 MSA configuration file has more than 1 shutter with primary source<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_all_background</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:03,447 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 14 and dither_index = 1
2022-07-07 07:45:03,447 - stpipe - INFO - Slitlet_id 57 is background only; assigned source_id = 0
<br/> -------------------------------Captured log call-------------------------------- <br/>DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 14   [(57, 14, 4, 251, 22, 0, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (57, 14, 4, 251, 23, 0, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (57, 14, 4, 251, 24, 0, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;)]
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 14   [(57, 14, 4, 251, 22, 0, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (57, 14, 4, 251, 23, 0, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (57, 14, 4, 251, 24, 0, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;)]
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 14 and dither_index = 1
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 14 and dither_index = 1
INFO     stpipe:nirspec.py:646 Slitlet_id 57 is background only; assigned source_id = 0
INFO     stpipe:nirspec.py:646 Slitlet_id 57 is background only; assigned source_id = 0<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_row_skipped</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:03,461 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 15 and dither_index = 1
<br/> -------------------------------Captured log call-------------------------------- <br/>DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 15   [(58, 15, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (58, 15, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (58, 15, 4, 251, 24, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (58, 15, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (58, 15, 4, 251, 27, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (58, 15, 4, 251, 28, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;)]
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 15   [(58, 15, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (58, 15, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (58, 15, 4, 251, 24, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (58, 15, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (58, 15, 4, 251, 27, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (58, 15, 4, 251, 28, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;)]
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 15 and dither_index = 1
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 15 and dither_index = 1<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_msa_configuration_multiple_returns</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:03,478 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 16 and dither_index = 1
<br/> -------------------------------Captured log call-------------------------------- <br/>DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 16   [(59, 16, 4, 256, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (59, 16, 4, 256, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (59, 16, 4, 256, 24, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (59, 16, 4, 256, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (59, 16, 4, 256, 27, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (59, 16, 4, 256, 28, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 30, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (60, 16, 4, 258, 31, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 32, 2, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (60, 16, 4, 258, 33, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 34, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 35, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;)]
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 16   [(59, 16, 4, 256, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (59, 16, 4, 256, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (59, 16, 4, 256, 24, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (59, 16, 4, 256, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (59, 16, 4, 256, 27, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (59, 16, 4, 256, 28, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 30, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (60, 16, 4, 258, 31, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 32, 2, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;), (60, 16, 4, 258, 33, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 34, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (60, 16, 4, 258, 35, 2, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;)]
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 16 and dither_index = 1
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 16 and dither_index = 1<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters0-24-x]</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters1-23-x1]</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters2-25-110x01]</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_shutter_state[open_shutters3-28-110101x]</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_slit_projection_on_detector</td>
          <td class="col-duration">0.83</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:03,488 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:03,684 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:03,684 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:03,685 - stpipe - INFO - theta_y correction: -0.05138003644148695 deg
2022-07-07 07:45:03,686 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:03,700 - stpipe - INFO - Combination ARGON_G395M missing in wavelengthrange file, setting order to -1 and range to [2.87e-06, 5.27e-06].
2022-07-07 07:45:03,887 - stpipe - INFO - Removing slit S200A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:03,908 - stpipe - INFO - Removing slit S200A2 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:03,928 - stpipe - INFO - Removing slit S400A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:03,948 - stpipe - INFO - Removing slit S1600A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:03,969 - stpipe - INFO - Slits projected on detector NRS2: [&#x27;S200B1&#x27;]
2022-07-07 07:45:04,043 - stpipe - INFO - gwa_ytilt is 0.1260581910610199 deg
2022-07-07 07:45:04,043 - stpipe - INFO - gwa_xtilt is 0.3316612243652344 deg
2022-07-07 07:45:04,044 - stpipe - INFO - theta_y correction: -0.05138003644148695 deg
2022-07-07 07:45:04,045 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:04,059 - stpipe - INFO - Combination ARGON_G395M missing in wavelengthrange file, setting order to -1 and range to [2.87e-06, 5.27e-06].
2022-07-07 07:45:04,326 - stpipe - INFO - Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
2022-07-07 07:45:04,326 - stpipe - INFO - Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.05138003644148695 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.05138003644148695 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:777 Combination ARGON_G395M missing in wavelengthrange file, setting order to -1 and range to [2.87e-06, 5.27e-06].
INFO     stpipe:nirspec.py:777 Combination ARGON_G395M missing in wavelengthrange file, setting order to -1 and range to [2.87e-06, 5.27e-06].
INFO     stpipe:nirspec.py:1729 Removing slit S200A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S200A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S200A2 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S200A2 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S400A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S400A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S1600A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S1600A1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS2: [&#x27;S200B1&#x27;]
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS2: [&#x27;S200B1&#x27;]
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1260581910610199 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3316612243652344 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.05138003644148695 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: -0.05138003644148695 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:777 Combination ARGON_G395M missing in wavelengthrange file, setting order to -1 and range to [2.87e-06, 5.27e-06].
INFO     stpipe:nirspec.py:777 Combination ARGON_G395M missing in wavelengthrange file, setting order to -1 and range to [2.87e-06, 5.27e-06].
INFO     stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:1729 Removing slit S200B1 from the list of open slits because the WCS bounding_box is completely outside the detector.
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]
INFO     stpipe:nirspec.py:424 Slits projected on detector NRS1: [&#x27;S200A1&#x27;, &#x27;S200A2&#x27;, &#x27;S400A1&#x27;, &#x27;S1600A1&#x27;]<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_missing_msa_file</td>
          <td class="col-duration">1.31</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:04,373 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:05,195 - stpipe.AssignWcsStep - INFO - Step AssignWcsStep running with args (&lt;ImageModel&gt;,).
2022-07-07 07:45:05,197 - stpipe.AssignWcsStep - INFO - Step AssignWcsStep parameters are: {&#x27;pre_hooks&#x27;: [], &#x27;post_hooks&#x27;: [], &#x27;output_file&#x27;: None, &#x27;output_dir&#x27;: None, &#x27;output_ext&#x27;: &#x27;.fits&#x27;, &#x27;output_use_model&#x27;: False, &#x27;output_use_index&#x27;: True, &#x27;save_results&#x27;: False, &#x27;skip&#x27;: False, &#x27;suffix&#x27;: None, &#x27;search_output_file&#x27;: True, &#x27;input_dir&#x27;: &#x27;&#x27;, &#x27;sip_approx&#x27;: True, &#x27;sip_max_pix_error&#x27;: 0.25, &#x27;sip_degree&#x27;: None, &#x27;sip_max_inv_pix_error&#x27;: 0.25, &#x27;sip_inv_degree&#x27;: None, &#x27;sip_npoints&#x27;: 32, &#x27;slit_y_low&#x27;: -0.55, &#x27;slit_y_high&#x27;: 0.55}
2022-07-07 07:45:05,322 - stpipe.AssignWcsStep - ERROR - MSA metadata file (MSAMETFL) is required for NRS_MSASPEC exposures.
2022-07-07 07:45:05,331 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:05,520 - stpipe.AssignWcsStep - INFO - Step AssignWcsStep running with args (&lt;ImageModel&gt;,).
2022-07-07 07:45:05,521 - stpipe.AssignWcsStep - INFO - Step AssignWcsStep parameters are: {&#x27;pre_hooks&#x27;: [], &#x27;post_hooks&#x27;: [], &#x27;output_file&#x27;: None, &#x27;output_dir&#x27;: None, &#x27;output_ext&#x27;: &#x27;.fits&#x27;, &#x27;output_use_model&#x27;: False, &#x27;output_use_index&#x27;: True, &#x27;save_results&#x27;: False, &#x27;skip&#x27;: False, &#x27;suffix&#x27;: None, &#x27;search_output_file&#x27;: True, &#x27;input_dir&#x27;: &#x27;&#x27;, &#x27;sip_approx&#x27;: True, &#x27;sip_max_pix_error&#x27;: 0.25, &#x27;sip_degree&#x27;: None, &#x27;sip_max_inv_pix_error&#x27;: 0.25, &#x27;sip_inv_degree&#x27;: None, &#x27;sip_npoints&#x27;: 32, &#x27;slit_y_low&#x27;: -0.55, &#x27;slit_y_high&#x27;: 0.55}
2022-07-07 07:45:05,645 - stpipe.AssignWcsStep - CRITICAL - Missing msa_metadata_id (keyword MSAMETID).
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe.AssignWcsStep:step.py:390 Step AssignWcsStep running with args (&lt;ImageModel&gt;,).
INFO     stpipe.AssignWcsStep:step.py:394 Step AssignWcsStep parameters are: {&#x27;pre_hooks&#x27;: [], &#x27;post_hooks&#x27;: [], &#x27;output_file&#x27;: None, &#x27;output_dir&#x27;: None, &#x27;output_ext&#x27;: &#x27;.fits&#x27;, &#x27;output_use_model&#x27;: False, &#x27;output_use_index&#x27;: True, &#x27;save_results&#x27;: False, &#x27;skip&#x27;: False, &#x27;suffix&#x27;: None, &#x27;search_output_file&#x27;: True, &#x27;input_dir&#x27;: &#x27;&#x27;, &#x27;sip_approx&#x27;: True, &#x27;sip_max_pix_error&#x27;: 0.25, &#x27;sip_degree&#x27;: None, &#x27;sip_max_inv_pix_error&#x27;: 0.25, &#x27;sip_inv_degree&#x27;: None, &#x27;sip_npoints&#x27;: 32, &#x27;slit_y_low&#x27;: -0.55, &#x27;slit_y_high&#x27;: 0.55}
DEBUG    stpipe.AssignWcsStep:assign_wcs_step.py:83 reference files used in assign_wcs: {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
DEBUG    stpipe.AssignWcsStep:assign_wcs_step.py:83 reference files used in assign_wcs: {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
ERROR    stpipe.AssignWcsStep:assign_wcs_step.py:93 MSA metadata file (MSAMETFL) is required for NRS_MSASPEC exposures.
ERROR    stpipe.AssignWcsStep:assign_wcs_step.py:93 MSA metadata file (MSAMETFL) is required for NRS_MSASPEC exposures.
INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe.AssignWcsStep:step.py:390 Step AssignWcsStep running with args (&lt;ImageModel&gt;,).
INFO     stpipe.AssignWcsStep:step.py:394 Step AssignWcsStep parameters are: {&#x27;pre_hooks&#x27;: [], &#x27;post_hooks&#x27;: [], &#x27;output_file&#x27;: None, &#x27;output_dir&#x27;: None, &#x27;output_ext&#x27;: &#x27;.fits&#x27;, &#x27;output_use_model&#x27;: False, &#x27;output_use_index&#x27;: True, &#x27;save_results&#x27;: False, &#x27;skip&#x27;: False, &#x27;suffix&#x27;: None, &#x27;search_output_file&#x27;: True, &#x27;input_dir&#x27;: &#x27;&#x27;, &#x27;sip_approx&#x27;: True, &#x27;sip_max_pix_error&#x27;: 0.25, &#x27;sip_degree&#x27;: None, &#x27;sip_max_inv_pix_error&#x27;: 0.25, &#x27;sip_inv_degree&#x27;: None, &#x27;sip_npoints&#x27;: 32, &#x27;slit_y_low&#x27;: -0.55, &#x27;slit_y_high&#x27;: 0.55}
DEBUG    stpipe.AssignWcsStep:assign_wcs_step.py:83 reference files used in assign_wcs: {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
DEBUG    stpipe.AssignWcsStep:assign_wcs_step.py:83 reference files used in assign_wcs: {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0037.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0027.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
CRITICAL stpipe.AssignWcsStep:nirspec.py:483 Missing msa_metadata_id (keyword MSAMETID).
CRITICAL stpipe.AssignWcsStep:nirspec.py:483 Missing msa_metadata_id (keyword MSAMETID).<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_open_slits</td>
          <td class="col-duration">0.05</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:05,686 - stpipe - INFO - MSA metadata file not in reference files dict
2022-07-07 07:45:05,686 - stpipe - INFO - Getting MSA metadata file from MSAMETFL keyword
2022-07-07 07:45:05,699 - stpipe - INFO - Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe:nirspec.py:473 MSA metadata file not in reference files dict
INFO     stpipe:nirspec.py:473 MSA metadata file not in reference files dict
INFO     stpipe:nirspec.py:474 Getting MSA metadata file from MSAMETFL keyword
INFO     stpipe:nirspec.py:474 Getting MSA metadata file from MSAMETFL keyword
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (55, 12, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
DEBUG    stpipe:nirspec.py:605 msa_data with msa_metadata_id = 12   [(55, 12, 4, 251, 22, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 23, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;N&#x27;), (55, 12, 4, 251, 24, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 25, 1, &#x27;Y&#x27;, &#x27;OPEN&#x27;, nan, nan, 1, &#x27;N&#x27;), (55, 12, 4, 251, 26, 1, &#x27;N&#x27;, &#x27;OPEN&#x27;, 0.18283921, 0.31907734, 1, &#x27;Y&#x27;)]
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1
INFO     stpipe:nirspec.py:606 Retrieving open MSA slitlets for msa_metadata_id = 12 and dither_index = 1<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_nirspec.py::test_ifu_bbox</td>
          <td class="col-duration">6.62</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:45:27,704 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:45:27,877 - stpipe - INFO - gwa_ytilt is 0.1258982867002487 deg
2022-07-07 07:45:27,877 - stpipe - INFO - gwa_xtilt is 0.3318742513656616 deg
2022-07-07 07:45:27,877 - stpipe - INFO - theta_y correction: 3.965144262312808e-13 deg
2022-07-07 07:45:27,878 - stpipe - INFO - theta_x correction: 0.0 deg
2022-07-07 07:45:27,892 - stpipe - INFO - Combination F290LP_G140M missing in wavelengthrange file, setting order to -1 and range to [9.7e-07, 1.89e-06].
2022-07-07 07:45:32,061 - stpipe - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1375 gwa_ytilt is 0.1258982867002487 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1376 gwa_xtilt is 0.3318742513656616 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 3.965144262312808e-13 deg
INFO     stpipe:nirspec.py:1380 theta_y correction: 3.965144262312808e-13 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:1386 theta_x correction: 0.0 deg
INFO     stpipe:nirspec.py:777 Combination F290LP_G140M missing in wavelengthrange file, setting order to -1 and range to [9.7e-07, 1.89e-06].
INFO     stpipe:nirspec.py:777 Combination F290LP_G140M missing in wavelengthrange file, setting order to -1 and range to [9.7e-07, 1.89e-06].
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}
INFO     stpipe:nirspec.py:62 Created a NIRSPEC nrs_ifu pipeline with references {&#x27;distortion&#x27;: &#x27;N/A&#x27;, &#x27;filteroffset&#x27;: &#x27;N/A&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_wavelengthrange_0005.asdf&#x27;, &#x27;camera&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_camera_0004.asdf&#x27;, &#x27;collimator&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_collimator_0004.asdf&#x27;, &#x27;disperser&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_disperser_0032.asdf&#x27;, &#x27;fore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fore_0022.asdf&#x27;, &#x27;fpa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_fpa_0005.asdf&#x27;, &#x27;msa&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_msa_0005.asdf&#x27;, &#x27;ote&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ote_0006.asdf&#x27;, &#x27;ifupost&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifupost_0004.asdf&#x27;, &#x27;ifufore&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifufore_0003.asdf&#x27;, &#x27;ifuslicer&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nirspec_ifuslicer_0003.asdf&#x27;}<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_noop_missing_meta_values</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_valid_match</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_valid_match_no_shifts</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_pointing.py::test_dva_corr_inverse</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_schema</td>
          <td class="col-duration">0.06</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_strict_validation</td>
          <td class="col-duration">0.02</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_schema_bad_valueerror</td>
          <td class="col-duration">0.02</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_distortion_schema_bad_assertionerror</td>
          <td class="col-duration">0.02</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[CameraModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[CollimatorModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[DisperserModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[DistortionMRSModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[DistortionModel]</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[FOREModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[FPAModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[FilteroffsetModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[IFUFOREModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[IFUPostModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[IFUSlicerModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[MSAModel]</td>
          <td class="col-duration">0.02</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[NIRCAMGrismModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[NIRISSGrismModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[OTEModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[ReferenceFileModel]</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[RegionsModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[SpecwcsModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[WaveCorrModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_schemas.py::test_simplemodel_subclasses[WavelengthrangeModel]</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_transform_bbox_from_shape_2d</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_transform_bbox_from_shape_3d</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_wcs_bbox_from_shape_2d</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_wcs_bbox_from_shape_3d</td>
          <td class="col-duration">0.02</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_create_grism_objects</td>
          <td class="col-duration">0.05</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_subarray_transform</td>
          <td class="col-duration">0.02</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_util.py::test_bounding_box_from_subarray</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_roll_angle</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_v23_to_sky</td>
          <td class="col-duration">0.00</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_frame_from_model_3d</td>
          <td class="col-duration">0.03</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_frame_from_model_2d</td>
          <td class="col-duration">0.01</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_create_fitswcs</td>
          <td class="col-duration">0.07</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wcs.py::test_sip_approx</td>
          <td class="col-duration">5.21</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="log"> ------------------------------Captured stderr call------------------------------ <br/>2022-07-07 07:48:35,553 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:48:35,561 - stpipe.AssignWcsStep - INFO - AssignWcsStep instance created.
2022-07-07 07:48:36,136 - stpipe.AssignWcsStep - INFO - Step AssignWcsStep running with args (&lt;ImageModel(2048, 2048) from test+F444W&gt;,).
2022-07-07 07:48:36,137 - stpipe.AssignWcsStep - INFO - Step AssignWcsStep parameters are: {&#x27;pre_hooks&#x27;: [], &#x27;post_hooks&#x27;: [], &#x27;output_file&#x27;: None, &#x27;output_dir&#x27;: None, &#x27;output_ext&#x27;: &#x27;.fits&#x27;, &#x27;output_use_model&#x27;: False, &#x27;output_use_index&#x27;: True, &#x27;save_results&#x27;: False, &#x27;skip&#x27;: False, &#x27;suffix&#x27;: None, &#x27;search_output_file&#x27;: True, &#x27;input_dir&#x27;: &#x27;&#x27;, &#x27;sip_approx&#x27;: True, &#x27;sip_max_pix_error&#x27;: 0.25, &#x27;sip_degree&#x27;: None, &#x27;sip_max_inv_pix_error&#x27;: 0.25, &#x27;sip_inv_degree&#x27;: None, &#x27;sip_npoints&#x27;: 32, &#x27;slit_y_low&#x27;: -0.55, &#x27;slit_y_high&#x27;: 0.55}
2022-07-07 07:48:36,391 - stpipe.AssignWcsStep - INFO - Update S_REGION to POLYGON ICRS  22.042056953 11.980844421 22.041583438 12.016715032 22.005379223 12.016752122 22.004987565 11.980611181
2022-07-07 07:48:36,391 - stpipe.AssignWcsStep - INFO - assign_wcs updated S_REGION to POLYGON ICRS  22.042056953 11.980844421 22.041583438 12.016715032 22.005379223 12.016752122 22.004987565 11.980611181
2022-07-07 07:48:36,391 - stpipe.AssignWcsStep - INFO - COMPLETED assign_wcs
2022-07-07 07:48:36,469 - stpipe.AssignWcsStep - INFO - Results used CRDS context: jwst_0914.pmap
2022-07-07 07:48:36,469 - stpipe.AssignWcsStep - INFO - Step AssignWcsStep done
<br/> -------------------------------Captured log call-------------------------------- <br/>INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe.AssignWcsStep:step.py:330 AssignWcsStep instance created.
INFO     stpipe.AssignWcsStep:step.py:390 Step AssignWcsStep running with args (&lt;ImageModel(2048, 2048) from test+F444W&gt;,).
INFO     stpipe.AssignWcsStep:step.py:394 Step AssignWcsStep parameters are: {&#x27;pre_hooks&#x27;: [], &#x27;post_hooks&#x27;: [], &#x27;output_file&#x27;: None, &#x27;output_dir&#x27;: None, &#x27;output_ext&#x27;: &#x27;.fits&#x27;, &#x27;output_use_model&#x27;: False, &#x27;output_use_index&#x27;: True, &#x27;save_results&#x27;: False, &#x27;skip&#x27;: False, &#x27;suffix&#x27;: None, &#x27;search_output_file&#x27;: True, &#x27;input_dir&#x27;: &#x27;&#x27;, &#x27;sip_approx&#x27;: True, &#x27;sip_max_pix_error&#x27;: 0.25, &#x27;sip_degree&#x27;: None, &#x27;sip_max_inv_pix_error&#x27;: 0.25, &#x27;sip_inv_degree&#x27;: None, &#x27;sip_npoints&#x27;: 32, &#x27;slit_y_low&#x27;: -0.55, &#x27;slit_y_high&#x27;: 0.55}
DEBUG    stpipe.AssignWcsStep:assign_wcs_step.py:83 reference files used in assign_wcs: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;N/A&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
DEBUG    stpipe.AssignWcsStep:assign_wcs_step.py:83 reference files used in assign_wcs: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: &#x27;N/A&#x27;, &#x27;regions&#x27;: &#x27;N/A&#x27;, &#x27;wavelengthrange&#x27;: &#x27;N/A&#x27;, &#x27;camera&#x27;: &#x27;N/A&#x27;, &#x27;collimator&#x27;: &#x27;N/A&#x27;, &#x27;disperser&#x27;: &#x27;N/A&#x27;, &#x27;fore&#x27;: &#x27;N/A&#x27;, &#x27;fpa&#x27;: &#x27;N/A&#x27;, &#x27;msa&#x27;: &#x27;N/A&#x27;, &#x27;ote&#x27;: &#x27;N/A&#x27;, &#x27;ifupost&#x27;: &#x27;N/A&#x27;, &#x27;ifufore&#x27;: &#x27;N/A&#x27;, &#x27;ifuslicer&#x27;: &#x27;N/A&#x27;}
DEBUG    stpipe.AssignWcsStep:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe.AssignWcsStep:nircam.py:45 reference files used in NIRCAM WCS pipeline: {&#x27;distortion&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_distortion_0090.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/grp/crds/cache/references/jwst/jwst_nircam_filteroffset_0002.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
DEBUG    stpipe.AssignWcsStep:nircam.py:143 Offsets from filteroffset file are 0.0, 0.058
DEBUG    stpipe.AssignWcsStep:nircam.py:143 Offsets from filteroffset file are 0.0, 0.058
INFO     stpipe.AssignWcsStep:util.py:1057 Update S_REGION to POLYGON ICRS  22.042056953 11.980844421 22.041583438 12.016715032 22.005379223 12.016752122 22.004987565 11.980611181
INFO     stpipe.AssignWcsStep:util.py:1057 Update S_REGION to POLYGON ICRS  22.042056953 11.980844421 22.041583438 12.016715032 22.005379223 12.016752122 22.004987565 11.980611181
INFO     stpipe.AssignWcsStep:assign_wcs.py:81 assign_wcs updated S_REGION to POLYGON ICRS  22.042056953 11.980844421 22.041583438 12.016715032 22.005379223 12.016752122 22.004987565 11.980611181
INFO     stpipe.AssignWcsStep:assign_wcs.py:81 assign_wcs updated S_REGION to POLYGON ICRS  22.042056953 11.980844421 22.041583438 12.016715032 22.005379223 12.016752122 22.004987565 11.980611181
INFO     stpipe.AssignWcsStep:assign_wcs.py:93 COMPLETED assign_wcs
INFO     stpipe.AssignWcsStep:assign_wcs.py:93 COMPLETED assign_wcs
INFO     stpipe.AssignWcsStep:core.py:90 Results used CRDS context: jwst_0914.pmap
INFO     stpipe.AssignWcsStep:core.py:90 Results used CRDS context: jwst_0914.pmap
INFO     stpipe.AssignWcsStep:step.py:493 Step AssignWcsStep done<br/></div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRCAMForwardRowGrismDispersion</td>
          <td class="col-duration">0.07</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRCAMForwardColumnGrismDispersion</td>
          <td class="col-duration">0.06</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRCAMBackwardDispersion</td>
          <td class="col-duration">0.03</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRISSBackwardDispersion</td>
          <td class="col-duration">0.03</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRISSForwardRowGrismDispersion</td>
          <td class="col-duration">0.04</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody>
      <tbody class="passed results-table-row">
        <tr>
          <td class="col-result">Passed</td>
          <td class="col-name">miniconda3/envs/jwst_validation_notebooks/lib/python3.10/site-packages/jwst/assign_wcs/tests/test_wfss.py::test_NIRISSForwardColumnGrismDispersion</td>
          <td class="col-duration">0.03</td>
          <td class="col-links"></td></tr>
        <tr>
          <td class="extra" colspan="4">
            <div class="empty log">No log output captured.</div></td></tr></tbody></table></body></html></div></div>
</div>
<p><a id="about"></a></p>
<section id="about-this-notebook">
<h2>About This Notebook<a class="headerlink" href="#about-this-notebook" title="Permalink to this headline">#</a></h2>
<p><strong>Author:</strong> Alicia Canipe, Staff Scientist, NIRCam
<br><strong>Updated On:</strong> 01/07/2021</p>
<p><a class="reference external" href="#title_ID">Top of Page</a>
<img style="float: right;" src="./stsci_pri_combo_mark_horizonal_white_bkgd.png" alt="stsci_pri_combo_mark_horizonal_white_bkgd" width="200px"/></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "TheRealZoidberg/jwst_validation_test",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks/regression_test/assign_wcs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="jwst_assign_wcs_unit_tests.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">JWST calwebb_image2 and calwebb_spec2, assign_wcs unit tests</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../skymatch/jwst_skymatch_unit_tests.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">JWST calwebb_image3, skymatch unit tests</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By STScI<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>